> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-01-24 - 2021-01-30

# Weekly #13

[readme](../README.md) | [previous](202101W3.md) | [next](202102W1.md)

## Table of Contents

- [algorithm](#algorithm-)
	- 找出重复数（腾讯面试题）
- [review](#review-)
- [tip](#tip-)
	- WSL2 通过 Clash 使用 Windows 代理
- [share](#share-)

## algorithm [⬆](#weekly-13)

### 1. [找出重复数（腾讯面试题）](https://leetcode-cn.com/circle/discuss/6TtGra/)

有 2.5 亿个数，其中只有一个数出现两次，其他的数都出现一次。在内存紧张的情况下，怎么找出这个重复数？

我们以前做过简单的类似题目：仅一个不重复，其他均重复，这时直接异或就可以搞定。现在是仅一个重复，其他不重复，异或似乎搞不定。

看下面的讨论，一个较为便捷的方法就是使用位图，对 250000000 取模，得到的数就在 [0, 250000000]，所以需要内存为 $ 250000000/8=31250000B=29.8M $，不到 30M，而且遍历一遍就够了，应该说比较高效。

当然位图有个问题是可能误判，比如 2 和 250000002 取模都是 2，这个时候可以使用布隆过滤器，它也存在误判，但是概率低多了。

有个大佬提出几种解法

[Meg](https://leetcode-cn.com/u/meg-a/)：

- 如果这道题的数字是连续的，那线性时间复杂度，常数空间复杂度的，方法就比较多了，像异或法，和差法，floyd 链表环都行。
- 如果不是连续的，如果不要求常数空间复杂度的话，考虑到有限空间，可以使用位图法。
- 如果空间限制到位图都装不下...那就使用小根堆加归并排序进行分批排序，最后再进行遍历吧。
- 如果连排序都不允许，那只能使用终极杀器，暴力法了。

## review [⬆](#weekly-13)

## tip [⬆](#weekly-13)

### 1. [WSL2 通过 Clash 使用 Windows 代理](https://www.cnblogs.com/sinicheveen/p/13866914.html)

1、Clash for Windows 打开 “Allow LAN” 选项
2、从配置文件中查看端口
3、打开 shell 终端，输入如下命令

```Bash
export hostip=$(cat /etc/resolv.conf |grep -oP '(?<=nameserver\).*')
export https_proxy="http://${hostip}:7890"
export http_proxy="http://${hostip}:7890"
```

这里只设置了 https_proxy、http_proxy，没有设置 all_proxy 等，并且也只使用了 http 协议代理，没有设置 sock5 协议代理，可以根据需要自己更改，但是需要注意，本例中 http 协议端口是 7890，而如果要设置 sock5 协议，那么端口需要改为 7891。

4、安装 w3m

```Bash
sudo apt install w3m
```

5、用 w3m 进行测试

```Bash
w3m www.google.com
```

如果成功，运行完该命令只有会在 shell 中出现如下画面：

![](../images/2021/01/2111220-20201023235810497-1461422349.png)

6、一劳永逸，可以在 `~/.myrc` 添加第 3 步的四条命令。

## share [⬆](#weekly-13)

[readme](../README.md) | [previous](202101W3.md) | [next](202102W1.md)
