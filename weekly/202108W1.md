> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-08-01 - 2021-08-07

# Weekly #40

[readme](../README.md) | [previous](202107W5.md) | [next](202108W2.md)

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
    - Python 3.10 å°é²œ
- [tip](#tip-)
- [share](#share-)

## algorithm [ğŸ”](#weekly-40)

## review [ğŸ”](#weekly-40)

### 1. [Python 3.10 å°é²œ](https://www.cnblogs.com/dongfangtianyu/p/14713895.html)

1ã€è”åˆè¿ç®—ç¬¦

åœ¨ Python 3.10 ä¸­ï¼Œ `|` å¯ä»¥è¡¨ç¤º X ç±»å‹ æˆ– Y ç±»å‹ï¼Œä»¥å–ä»£ä¹‹å‰çš„ `typing.Union` å®Œæˆç±»å‹æ³¨è§£

æ—§å†™æ³•ï¼š

```Python
from typing import Union

def f(value: Union[int, str]) -> Union[int, str]:
    return value*2
```

æ–°å†™æ³•ï¼š

```Python
def f(value: int | str) -> int | str:
    return value*2
```

2ã€å¤šè¡Œä¸Šä¸‹æ–‡ç®¡ç†å™¨

```Python
with (
    open("test.txt", "r", encoding="utf-8") as f,  # æ‰“å¼€ç¬¬ä¸€ä¸ªæ–‡ä»¶
    open("test_copy.txt", "w", encoding=f.encoding) as f_copy,  # æ‰“å¼€ç¬¬äºŒä¸ªæ–‡ä»¶
):
    content = f.read()  # ä»ç¬¬ä¸€ä¸ªæ–‡ä»¶è·å–å†…å®¹
    f_copy.write(content)  # å‘ç¬¬äºŒä¸ªæ–‡ä»¶å†™å…¥å†…å®¹
```

3ã€ç»“æ„æ¨¡å¼åŒ¹é…ï¼ˆStructural Pattern Matchingï¼‰

å®é™…ä¸Šå°±æ˜¯ `switch...case...`

```Python
today = 1
match  today:
    case 0:
        day = "æ˜ŸæœŸå¤©"
    case 1:
        day = "æ˜ŸæœŸä¸€"
    case 2:
        day = "æ˜ŸæœŸäºŒ"
    case 3:
        day = "æ˜ŸæœŸä¸‰"
    case 4:
        day = "æ˜ŸæœŸå››"
    case 5:
        day = "æ˜ŸæœŸäº”"
    case 6:
        day = "æ˜ŸæœŸå…­"
    case _:
        day = "åˆ«é—¹...ä¸€ä¸ªæ˜ŸæœŸåªæœ‰ä¸ƒå¤©"

print(day)
```

- ä»ä¸Šå¾€ä¸‹åŒ¹é…
- åŒ¹é…ç¬¬ä¸€ä¸ª `case` ååœæ­¢
- å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„åŒ¹é…ï¼Œåˆ™ä¼šæ‰§è¡Œ `case _`

4ã€zip æ”¯æŒé•¿åº¦æ£€æŸ¥

ä¹‹å‰æ˜¯æ ¹æ®æœ€çŸ­çš„è¿›è¡Œæˆªæ–­å¤„ç†ï¼Œ3.10 ä¸­å¯ä»¥ä¼ é€’ `strict=True` å¯¹é•¿åº¦è¿›è¡Œä¸¥æ ¼æ£€æŸ¥

```Python
for i in zip(name_list, number_list, strict=True):
    print(i)

# ('æŠ¥è­¦', 110)
# ('æ€¥æ•‘', 120)
# ('æ¶ˆé˜²', 119)
# Traceback (most recent call last):
#     for i in zip(name_list, number_list, strict=True):
# ValueError: zip() argument 2 is shorter than argument 1
```

## tip [ğŸ”](#weekly-40)

## share [ğŸ”](#weekly-40)

[readme](../README.md) | [previous](202107W5.md) | [next](202108W2.md)
