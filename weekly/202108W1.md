> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-08-01 - 2021-08-07

# Weekly #40

[readme](../README.md) | [previous](202107W5.md) | [next](202108W2.md)

![](../images/2021/08/potato_wang-rl_LJtvv0rI-unsplash.jpg)

*Photo by [远扩 王](https://unsplash.com/@potato_wang) on [Unsplash](https://unsplash.com/photos/rl_LJtvv0rI)*

> 山外青山楼外楼，西湖歌舞几时休？暖风熏得游人醉，直把杭州作汴州。 —— 林升《题临安邸》

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
    - Python 3.10 尝鲜
    - Mac 开发环境设置（2021 版）
- [tip](#tip-)
    - 一个 CSS 命令，反转网页颜色
- [share](#share-)

## algorithm [🔝](#weekly-40)

## review [🔝](#weekly-40)

### 1. [Python 3.10 尝鲜](https://www.cnblogs.com/dongfangtianyu/p/14713895.html)

1、联合运算符

在 Python 3.10 中， `|` 可以表示 X 类型 或 Y 类型，以取代之前的 `typing.Union` 完成类型注解

旧写法：

```Python
from typing import Union

def f(value: Union[int, str]) -> Union[int, str]:
    return value*2
```

新写法：

```Python
def f(value: int | str) -> int | str:
    return value*2
```

2、多行上下文管理器

```Python
with (
    open("test.txt", "r", encoding="utf-8") as f,  # 打开第一个文件
    open("test_copy.txt", "w", encoding=f.encoding) as f_copy,  # 打开第二个文件
):
    content = f.read()  # 从第一个文件获取内容
    f_copy.write(content)  # 向第二个文件写入内容
```

3、结构模式匹配（Structural Pattern Matching）

实际上就是 `switch...case...`

```Python
today = 1
match  today:
    case 0:
        day = "星期天"
    case 1:
        day = "星期一"
    case 2:
        day = "星期二"
    case 3:
        day = "星期三"
    case 4:
        day = "星期四"
    case 5:
        day = "星期五"
    case 6:
        day = "星期六"
    case _:
        day = "别闹...一个星期只有七天"

print(day)
```

- 从上往下匹配
- 匹配第一个 `case` 后停止
- 如果没有符合条件的匹配，则会执行 `case _`

4、zip 支持长度检查

之前是根据最短的进行截断处理，3.10 中可以传递 `strict=True` 对长度进行严格检查

```Python
for i in zip(name_list, number_list, strict=True):
    print(i)

# ('报警', 110)
# ('急救', 120)
# ('消防', 119)
# Traceback (most recent call last):
#     for i in zip(name_list, number_list, strict=True):
# ValueError: zip() argument 2 is shorter than argument 1
```

### 2. [Mac 开发环境设置（2021 版）](https://www.swyx.io/new-mac-setup-2021)

这篇文章介绍了作者如何设置他的开发环境，如系统设置，软件设置等等，里面当然也有一些我用不上

话说回来，我之前也总结了一篇自己的开发环境总结，不过一部分跟公司有关，不具备完全的通用性

在公司用 Mac，回家用 Windows，没习惯 Mac 反而跟 Windows 搞混了

比如复制 <kbd>cmd + c</kbd>，由于键位的原因，回家之后一不小心就会按成 <kbd>opt + c</kbd>，笑死

## tip [🔝](#weekly-40)

### 1. [一个 CSS 命令，反转网页颜色](https://davidwalsh.name/dark-mode-invert-filter)

如何使用一行 CSS 命令反转网页颜色？

这个似乎跟我之前看到的用 CSS 命令实现竖排文字一样，是个很小众（？）的命令，当然我不是前端，也没资格说这个

反转网页颜色命令如下：

```CSS
html {
  filter: invert(1);
}
```

该博客下面有评论加了点料：

```CSS
html { filter: invert(1) contrast(0.95) saturate(0.5) hue-rotate(180deg);
```


## share [🔝](#weekly-40)

[readme](../README.md) | [previous](202107W5.md) | [next](202108W2.md)
