> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-07-04 - 2021-07-10

# Weekly #36

[readme](../README.md) | [previous](202107W1.md) | [next](202107W3.md)

æœ¬æ–‡æ€»å­—æ•° 1675 ä¸ªï¼Œé˜…è¯»æ—¶é•¿çº¦ï¼š5 åˆ† 7 ç§’ï¼Œç»Ÿè®¡æ•°æ®æ¥è‡ªï¼š[ç®—ç­¹å­—æ•°ç»Ÿè®¡](http://www.xiqei.com/tools?p=tj)ã€‚

![](../images/2021/07/9f80d43a64e4421d81c24d22395194c9.png)

\**Photo by Unknown on [Sohu](https://www.sohu.com/a/307347824_120113245)*

> å¤©ä¸‹ç†™ç†™çš†ä¸ºåˆ©æ¥ï¼Œå¤©ä¸‹æ”˜æ”˜çš†ä¸ºåˆ©å¾€ â€”â€” ã€Šå²è®°ã€‹

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
    - CSS ä¸ CSS-in-JS çš„æ€§èƒ½æ¯”è¾ƒï¼ˆè‹±æ–‡ï¼‰
- [tip](#tip-)
    - ã€gitã€‘å…¨å±€é…ç½®å’Œå•ä¸ªä»“åº“çš„ç”¨æˆ·åé‚®ç®±é…ç½®
    - åœ¨ MAC ç»ˆç«¯ä¸‹æ‰“å¼€ Finder
- [share](#share-)
    - You pay, while I enjoy!

## algorithm [ğŸ”](#weekly-36)

## review [ğŸ”](#weekly-36)

### 1. [CSS ä¸ CSS-in-JS çš„æ€§èƒ½æ¯”è¾ƒï¼ˆè‹±æ–‡ï¼‰](https://pustelto.com/blog/css-vs-css-in-js-perf)

å•ç‹¬å†™ cssï¼Œå’Œåœ¨ js ä¸­å†™ css è¿™å…¶å®çœ‹ä¸ªäººä¹ æƒ¯ï¼Œæœ‰äººä¹ æƒ¯å•ç‹¬å†™ï¼ˆæ¯”å¦‚æˆ‘ï¼‰ï¼Œæœ‰äººå–œæ¬¢åœ¨ js é‡Œé¢æ§åˆ¶ï¼Œæˆ‘åŸæ¥ä»¥ä¸ºè¿™å…¶å®éƒ½å·®ä¸å¤ªå¤šï¼Œå®é™…ä¸Šå®ƒä¿©æ€§å·®å·®å¼‚è¿˜è›®å¤§çš„ã€‚

TLDR: Donâ€™t use runtime CSS-in-JS if you care about the load performance of your site. ***Simply less JS = Faster Site.***

æµ‹è¯•ï¼š

- Network (size of the JS and CSS assets, coverage, number of requests)
- Lighthouse audits (performance audit with mobile preset)
- Performance profiling (tests for page load, one for drag and drop interaction)

1ã€ç½‘ç»œæ¯”è¾ƒ

Home page network stats comparison

|                          | Styled Component |       Linaria |
|-------------------------:|-----------------:|--------------:|
| Total number of requests |               11 |            13 |
| Total size               |      361kB/1.8MB |   356kB/1.8MB |
| CSS size                 |      2.3kB/7.2kB | 14.7kB/71.5kB |
| No. of CSS requests      |                1 |             3 |
| JS size                  |      322kB/1.8MB |   305kB/1.7MB |
| No. of JS requests       |                6 |             6 |

Search page network stats comparison

|                          | Styled Component |       Linaria |
|-------------------------:|-----------------:|--------------:|
| Total number of requests |               10 |            12 |
| Total size               |      395kB/1.9MB |   391kB/1.9MB |
| CSS size                 |      2.3kB/7.2kB | 16.0kB/70.0kB |
| No. of CSS requests      |                1 |             3 |
| JS size                  |      363kB/1.9MB |   345kB/1.8MB |
| No. of JS requests       |                6 |             6 |

the sum of CSS and JS for [Linaria](https://linaria.dev) is still smaller than the size of the JS itself in Styled Component

2ã€è¦†ç›–èŒƒå›´

Coverage comparison â€“ Home page

|                    | Styled Component | Linaria |
|-------------------:|-----------------:|--------:|
| Size of unused CSS |            6.5kB |  55.6kB |
| Size of unused JS  |            932kB |   915kB |
| Total size         |           938.5k | 970.6kB |

Coverage comparison â€“ Search page

|                    | Styled Component | Linaria |
|-------------------:|-----------------:|--------:|
| Size of unused CSS |            6.3kB |  52.9kB |
| Size of unused JS  |            937kB |   912kB |
| Total size         |           938.5k | 970.6kB |

3ã€Lighthouse

![](../images/2021/07/b11aefe7-608.webp)

![](../images/2021/07/9f885a26-608.webp)

Linaria åœ¨å¤§å¤šæ•°ç½‘ç»œè¦ç´ ä¸­è¡¨ç°å¾—æ›´å¥½ï¼ˆåœ¨ CLS ä¸­ä¸¢å¤±ä¸€æ¬¡ï¼‰ã€‚æœ‰æ—¶ç”šè‡³æ˜¯å¾ˆå¤§çš„å·®è·ã€‚ä¾‹å¦‚ï¼ŒLCP åœ¨ä¸»é¡µä¸Šå¿« 870 æ¯«ç§’ï¼Œåœ¨æœç´¢é¡µé¢ä¸Šå¿« 1.2 ç§’ã€‚ä½¿ç”¨æ™®é€š CSS æ¸²æŸ“é¡µé¢ä¸ä»…è¦å¿«å¾—å¤šï¼Œè€Œä¸”è¿˜éœ€è¦æ›´å°‘çš„èµ„æºã€‚é˜»å¡æ—¶é—´å’Œæ‰§è¡Œæ‰€æœ‰ JS æ‰€éœ€çš„æ—¶é—´åˆ†åˆ«å‡å°‘äº† 300 æ¯«ç§’å’Œå¤§çº¦ 1.3 ç§’ã€‚

4ã€æ€§èƒ½åˆ†æ

![](../images/2021/07/800b6eb6-608.webp)

![](../images/2021/07/de989777-608.webp)

ä½¿ç”¨æ ·å¼åŒ–ç»„ä»¶æ„å»ºçš„å±å¹•æœ‰æ›´å¤šé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ã€‚ä¸ Linaria å˜ä½“ç›¸æ¯”ï¼Œè¿™äº›ä»»åŠ¡ä¹Ÿéœ€è¦æ›´é•¿çš„æ—¶é—´æ‰èƒ½å®Œæˆã€‚

ä¸‹é¢æ˜¯ç”¨æ ·å¼åŒ–ç»„ä»¶ï¼ˆä¸Šéƒ¨ï¼‰å’Œ Linariaï¼ˆä¸‹éƒ¨ï¼‰åŠ è½½ä¸»é¡µçš„æ€§èƒ½å›¾è¡¨çš„å¯è§†åŒ–æ¯”è¾ƒã€‚

![](../images/2021/07/3e337dc5-608.webp)

5ã€ç”¨æˆ·äº¤äº’çš„æ¯”è¾ƒ

|                     | Styled Component | Linaria |   Diff |
|--------------------:|-----------------:|--------:|-------:|
| Scripting           |             2955 |    2392 | -563ms |
| Rendering           |             3002 |    2525 | -477ms |
| Painting            |              329 |     313 |  -16ms |
| Total Blocking Time |          1862.66 |  994.07 | -868ms |

![](../images/2021/07/ba255c84-608.webp)

6ã€æ€»ç»“

è¿è¡Œæ—¶ CSS-in-JS å¯¹ç½‘é¡µæœ‰æ˜æ˜¾çš„å½±å“ã€‚ä¸»è¦ç”¨äºäº’è”ç½‘è¿æ¥è¾ƒæ…¢æˆ–æ•°æ®è¾ƒæ˜‚è´µçš„ä½ç«¯è®¾å¤‡å’Œåœ°åŒºã€‚

ä½œè€…ï¼šä¸‹æ¬¡æˆ‘å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œæˆ‘å°†ä¸å†ä½¿ç”¨è¿è¡Œæ—¶ css in-jsã€‚æˆ‘è¦ä¹ˆä½¿ç”¨è€å¼çš„ CSSï¼Œè¦ä¹ˆä½¿ç”¨ä¸€äº›æ„å»ºæ—¶çš„ CSS in-JS æ›¿ä»£æ–¹æ¡ˆï¼Œä» JS åŒ…ä¸­è·å–æˆ‘çš„æ ·å¼ã€‚

## tip [ğŸ”](#weekly-36)

### 1. [ã€gitã€‘å…¨å±€é…ç½®å’Œå•ä¸ªä»“åº“çš„ç”¨æˆ·åé‚®ç®±é…ç½®](https://blog.csdn.net/QPC908694753/article/details/79237748)

ä¸€èˆ¬ä½¿ç”¨éƒ½ä¼šé…ç½®ä¸€ä¸ªå…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®±

```Bash
git config --global user.name "taseikyo"
git config --global user.email "taseikyo@gmail.com"
git config --list
```

å¦‚æœä½ å…¬å¸çš„é¡¹ç›®æ˜¯æ”¾åœ¨è‡ªå»ºçš„ gitlab ä¸Šé¢ï¼Œå¦‚æœä½ ä¸è¿›è¡Œé…ç½®ç”¨æˆ·åå’Œé‚®ç®±çš„è¯ï¼Œåˆ™ä¼šä½¿ç”¨å…¨å±€çš„ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯é”™è¯¯çš„ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯é’ˆå¯¹å…¬å¸çš„é¡¹ç›®ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿›è¡Œå•ç‹¬é…ç½®ï¼š

```Bash
git config user.name "Lewis Tian"
git config user.email "lewistian@gmail.com"
git config --list
```
`git config --list` æŸ¥çœ‹å½“å‰é…ç½®ï¼Œåœ¨å½“å‰é¡¹ç›®ä¸‹é¢æŸ¥çœ‹çš„é…ç½®æ˜¯å…¨å±€é…ç½® + å½“å‰é¡¹ç›®çš„é…ç½®ï¼Œä½¿ç”¨çš„æ—¶å€™ä¼šä¼˜å…ˆä½¿ç”¨å½“å‰é¡¹ç›®çš„é…ç½®

### 2. [åœ¨ MAC ç»ˆç«¯ä¸‹æ‰“å¼€ Finder](https://blog.csdn.net/tiantiandjava/article/details/109804508)

åˆæ¬¡ä½¿ç”¨ Macï¼Œå„ç§ä¸ä¹ æƒ¯ï¼Œé¦–å…ˆå°±æ˜¯æ²¡æœ‰ä¸€ä¸ªèµ„æºç®¡ç†å™¨ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰ï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªåœ¨å½“å‰æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯ï¼ˆä¼°è®¡è¦é…ç½®ï¼‰

è¿˜æœ‰å°±æ˜¯æ— æ³•åœ¨å½“å‰è·¯å¾„æ‰“å¼€ finderï¼Œåœ¨ Windows ä¸‹ç›´æ¥ `explorer .` å°±èƒ½æ‰“å¼€èµ„æºç®¡ç†å™¨

æˆ‘ç”šè‡³ç›´æ¥ `alias e='explorer .'`ï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•çš„æ•² e å³å¯

ç„¶åä¹Ÿæƒ³å®ç°è¿™ä¸ªæ–¹å¼ï¼Œæœäº†ä¸€ä¸‹ï¼ŒMac ä¸‹ä¹Ÿèƒ½å®ç°ï¼š`open .`

## share [ğŸ”](#weekly-36)

### 1. You pay, while I enjoy!

ä½™æ­åŒºï¼Œäº”å¸¸è¡—é“ã€‚

ç”±äºå…¶ä¸­æœ‰ç€é˜¿é‡Œå·´å·´ã€å­—èŠ‚è·³åŠ¨å’ŒåŒèŠ±é¡ºç­‰ç­‰ç§‘æŠ€å…¬å¸ï¼Œä½¿å¾—å…¶å‘¨è¾¹çš„ä½æˆ¿åœ¨è¿™æ®µæ—¶é—´ååˆ†ç´§ä¿ï¼Œå³ä½¿ä¸€äº›ç ´æ—§å°åŒºæ‰”ä»·é«˜éš¾æ±‚ã€‚

ä¹‹å‰ä¸‹åˆçœ‹å®Œä¸€ä¸ª loftï¼Œæœ‰ç‚¹çŠ¹è±«ï¼Œæ™šä¸Šæƒ³é€šäº†å†è”ç³»çš„æ—¶å€™å°±å·²ç»æ²¡äº†ï¼Œåƒ§å¤šç²¥å°‘å°±æ˜¯è¿™æ ·ã€‚

æ›´æœ‰ç”šè€…ï¼Œä¸å°‘æˆ¿ä¸œæŠŠä¸€é—´æˆ¿å­æ‹†åˆ†ã€è£…ä¿®æˆ 4 å±…å®¤ã€5 å±…å®¤ï¼Œåªä¸ºå¤šç§Ÿç»™å‡ ä¸ªäººè·å¾—æ›´é«˜çš„å›æŠ¥ã€‚

è€Œå¼€å‘å•†ä¹Ÿæ˜¯æ»¡è¶³æˆ·ä¸»ï¼Œåšäº›æ‰€è°“çš„ 4 é’¥åŒ™æˆ¿ï¼Œä¹Ÿæ˜¯ä¸ºäº†è·å–é«˜å›æŠ¥ã€‚

è€Œå¤–åœ°æ¥æ­¤è°‹ç”Ÿçš„å„ä½åˆæœŸåªèƒ½å¿å—è¿™ç§å¥‡æ€ªçš„ç°è±¡ï¼Œä¹Ÿè®¸åé¢æˆ¿æºå¤šäº†ã€å·¥èµ„æ¶¨äº†ä¼šè€ƒè™‘æ¢ä¸€ä¸ªç¯å¢ƒ/æ¡ä»¶å¥½ä¸€ç‚¹çš„åœ°æ–¹ï¼Œä½†æ˜¯å—é™äºä¸€å¹´çš„ç§Ÿæˆ¿åˆåŒè¿˜å¾—èŠ±æ—¶é—´æ‰¾ä¸‹å®¶ï¼Œä¸ºæˆ¿ä¸œç»­å‘½ï¼Œæˆ¿ä¸œåˆ™æ˜¯èººç€æ”¶é’±ã€‚

*You work, you pay, and I'm laying and enjoying it!*

[readme](../README.md) | [previous](202107W1.md) | [next](202107W3.md)
