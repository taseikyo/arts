> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-03-07 - 2021-03-13

# Weekly #19

[readme](../README.md) | [previous](202103W1.md) | [next](202103W3.md)

ç”˜åœ°è¯´ï¼š"è´«ç©·æ‰æ˜¯æœ€ç³Ÿç³•çš„æš´åŠ›ã€‚æ¯ç­äººç±»çš„ä¸ƒç§äº‹æ˜¯ï¼šæ²¡æœ‰åŸåˆ™çš„æ”¿æ²»ï¼Œæ²¡æœ‰ç‰ºç‰²çš„å´‡æ‹œï¼Œæ²¡æœ‰äººæ€§çš„ç§‘å­¦ï¼Œæ²¡æœ‰é“å¾·çš„å•†ä¸šï¼Œæ²¡æœ‰æ˜¯éçš„çŸ¥è¯†ï¼Œæ²¡æœ‰è‰¯çŸ¥çš„å¿«ä¹ï¼Œæ²¡æœ‰åŠ³åŠ¨çš„å¯Œè£•ã€‚"

## Table of Contents

- [algorithm](#algorithm-)
	- è‡ªå®šä¹‰ C/C++ æ—¥å¿—è¾“å‡ºå‡½æ•°
- [review](#review-)
- [tip](#tip-)
	- VS Code æ‘¸ğŸŸæ‰“å­—ç»ƒä¹ æ’ä»¶
- [share](#share-)

## algorithm [â¬†](#weekly-19)

### 1. [è‡ªå®šä¹‰ C/C++ æ—¥å¿—è¾“å‡ºå‡½æ•°](https://www.kymjs.com/code/2020/08/07/01)

åœ¨ C++ ä¸­è¾“å‡ºä½¿ç”¨ `cout`ï¼Œè¦è°ƒè¯•ä¿¡æ¯çš„éœ€è¦å†™ä¸€å †ç±»ä¼¼ `key:value` å¯¹çš„å½¢å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```C++
int main(int argc, char **argv) {
	char *Name = "Bill";
	int Age = 10;
	float Score = 86.5;
	float Height = 121.3;
	float Body_Weight = 36;

	std::cout << "Name:" << Name << ", "
	          << "Age:" << Age << ", "
	          << "Score:" << Score << ", "
	          << "Height:" << Height << ", "
	          << "Body_Weight:" << Body_Weight << std::endl;
}
```

èƒ½ä¸èƒ½æ¢ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Ÿå°±åƒä¸‹é¢ä¸€æ ·ï¼Ÿ

```C++
int main(int argc, char **argv) {
	char *Name = "Bill";
	int Age = 10;
	float Score = 86.5;
	float Height = 121.3;
	float Body_Weight = 36;

	logDebug(Name, Age, Score, Height, Body_Weight);
}

// DEBUG [..\cppdemo\main.cpp@main#11]Name:Bill, Age:10, Score:86.5, Height:121.3, Body_Weight:36
```

äºæ˜¯è¿™å°±æ˜¯æœ¬ç¯‡æ–‡ç« ï¼ˆè‡ªå®šä¹‰æ—¥å¿—å‡½æ•°å®ç°ï¼‰çš„ç”±æ¥ã€‚

å®ç°ä¸»è¦ç”¨åˆ°äº†å®çš„æŠ€å·§ï¼Œåœ¨å®å®šä¹‰ä¸­ï¼Œå¦‚æœä½¿ç”¨äº•å·ï¼ˆ#ï¼‰ï¼Œå¯ä»¥å°†å‚æ•°å˜ä¸ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå³ï¼š

```C++
#define  toStr(x)  #x

char *str = toStr(hello);  
//  ç­‰ä»·äº 
char *str = "hello";
```

å¯¹äºæ–‡ä»¶ä½ç½®ä¿¡æ¯ï¼ŒC++ ä¸­ä¹Ÿæœ‰å¯¹åº”çš„å®ï¼Œåˆ†åˆ«æ˜¯ `__FILE__`ã€`__FUNCTION__`ã€`__LINE__`

```C++
#define FILE_INFO   "[" << __FILE__ << '@' << __FUNCTION__ << '#' << __LINE__  << "]"
#define logs(x)     std::cout << FILE_INFO << #x":" << x << std::endl

int delay = 5;
int other = 3;

logs(delay);
logs(other);
// [..\cppdemo\main.cpp@main#21]delay:5
// [..\cppdemo\main.cpp@main#22]other:3
```

è¦æƒ³ç”¨é¢œè‰²åŒºåˆ† error å’Œ warning ä¹Ÿä¸éš¾ï¼Œä¹‹å‰åœ¨ Shell è„šæœ¬ä¸­ä½¿ç”¨è¿‡ï¼š

```C++
#define OUT_RED     "\033[0;31;1m"
#define OUT_GREEN   "\033[0;32;1m"
#define OUT_END     "\033[0m"

#define logRed(x)       std::cout << OUT_RED << FILE_INFO << #x":" << x << OUT_END << std::endl
#define logGreen(x)     std::cout << OUT_GREEN << FILE_INFO << #x":" << x << OUT_END << std::endl

logRed(delay);
logGreen(other);
```

æœ€é‡è¦çš„é—®é¢˜æ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨è¯†åˆ«å¤šå˜é‡ï¼Œæœ€å‚»ç“œçš„æ˜¯å®ç°æ¯ä¸€ç§è¾“å‡ºå‡½æ•°ï¼Œä½†æ˜¯æ²¡å¿…è¦ä¸”å¾ˆè ¢ã€‚

```C++
#define logs1(a)       std::cout << OUT_GREEN << FILE_INFO << #a":" << a << OUT_END << std::endl
#define logs2(a,b)     std::cout << OUT_GREEN << FILE_INFO << #a":" << a << ", "#b":" << b << OUT_END << std::endl
#define logs3(a,b,c)   std::cout << OUT_GREEN << FILE_INFO << #a":" << a << ", "#b":" << b << ", "#c":" << c << OUT_END << std::endl
#define logs4...
#define logs5...
```

å…¶å® C/C++ ä¸­ä¹Ÿæœ‰å¤šå‚æ•°çš„å‡½æ•°ï¼Œå¦‚ printf å‡½æ•°ï¼Œå…¶å‡½æ•°åŸå‹å°±æ˜¯ï¼š`int __cdecl printf(const char * _Format,...);`ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬èƒ½å¤ŸåŠ¨æ€è®¡ç®—å‡ºå‚æ•°ä¸ªæ•°ï¼Œå°±å¯ä»¥é€šè¿‡æ˜ å°„çš„æ–¹å¼ï¼Œç»‘å®šåˆ°å¯¹åº”å‚æ•°æ•°ç›®çš„è¾“å‡ºå‡½æ•°ä¸Šé¢ã€‚

```C++
#define ARG_COUNT_PRIVATE(_0,  _1,  _2,  _3,  _4,  _5,  _6,  _7,  _8, N, ...) N
#define ARG_COUNT(...)      ARG_COUNT_PRIVATE(0, __VA_ARGS__, 8,  7,  6,  5,  4,  3,  2,  1,  0)

#define FILE_INFO   "[" << __FILE__ << '@' << __FUNCTION__ << '#' << __LINE__  << "]"
#define logs(a)       std::cout << OUT_GREEN << FILE_INFO << #a":" << a << OUT_END << std::endl

int one = 5;
int two = 3;
int three = 2;

logs(ARG_COUNT(one));
logs(ARG_COUNT(one, two));
logs(ARG_COUNT(one, two, three));
// [..\cppdemo\main.cpp@main#30]ARG_COUNT(one):1
// [..\cppdemo\main.cpp@main#31]ARG_COUNT(one, two):2
// [..\cppdemo\main.cpp@main#32]ARG_COUNT(one, two, three):3
```

ç„¶ååªè¦æˆ‘ä»¬åœ¨ç”¨ C++ å®é‡Œé¢çš„ ## è¿›è¡Œè¿æ¥ï¼Œå°±å¯ä»¥å°† logs ## Num å˜æˆå¯¹åº”çš„å‡½æ•°ã€‚

å®Œæ•´ä»£ç è§ï¼š[logger.h](../code/logger.h)

## review [â¬†](#weekly-19)

## tip [â¬†](#weekly-19)

### 1. [VS Code æ‘¸ğŸŸæ‰“å­—ç»ƒä¹ æ’ä»¶](https://github.com/Kaiyiwing/qwerty-learner-vscode)

åŸé¡¹ç›®æ˜¯ï¼š[Kaiyiwing/qwerty-learner](https://github.com/Kaiyiwing/qwerty-learner)ï¼Œåœ¨çº¿ç‰ˆæœ¬æ˜¯ï¼šhttps://qwerty-learner.vercel.app

è¿™ä¸ª VS Code ç‰ˆæ˜¯å¦ä¸€ä¸ªå¤§ä½¬å¼€å‘çš„ï¼Œæ–¹ä¾¿æ‘¸é±¼ï¼Œå¯åŠ¨è¯¥æ’ä»¶çš„å¿«æ·é”®æ˜¯ <kbd>Shitf + Alt + Q</kbd>ï¼Œä¸è¿‡æˆ‘åˆšè¯•äº†ä¸‹æ²¡æœ‰å£°éŸ³ï¼Œç½‘é¡µç‰ˆä¼šè¯»å‡ºå•è¯ã€‚

## share [â¬†](#weekly-19)

[readme](../README.md) | [previous](202103W1.md) | [next](202103W3.md)
