> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2024-07-28 - 2024-08-03

# Weekly #73

[readme](../README.md) | [previous](202407W4.md) | [next](202408W2.md)

![](../images/2024/08/the-oregon-state-university-collections-and-archives-42INohKEYkA-unsplash.jpg "Weekly #73")

\**Photo by [The Oregon State University Collections and Archives](https://unsplash.com/@oregonstateuni) on [Unsplash](https://unsplash.com/photos/a-black-and-white-photo-of-a-mountain-lake-42INohKEYkA)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
	- ä¼¤å®³æ€§ä¸å¤§ï¼Œä¾®è¾±æ€§æææå¼º
	- RC4åŠ å¯†ç®—æ³•
	- Qtä¹‹å®ç°å›¾ç‰‡è½®æ’­æ•ˆæœ
- [tip](#tip-)
- [share](#share-)
	- äººç”Ÿå…­æˆ’

## algorithm [ğŸ”](#weekly-73)

## review [ğŸ”](#weekly-73)

### 1. [ä¼¤å®³æ€§ä¸å¤§ï¼Œä¾®è¾±æ€§æææå¼º](https://mp.weixin.qq.com/s/JzlYbL7mosdusNknmAaV8g)

![](../images/2024/08/0.jpg)

ä¼¤å®³æ€§ä¸å¤§ï¼Œä¾®è¾±æ€§æææå¼º

å®‹å¤ªå®—æ›¾é—®å¤§è‡£ï¼šâ€œæœ•ä½•å¦‚å”å¤ªå®—â€ï¼Ÿ

ä½ æ˜¯å¤§è‡£ï¼Œè¯¥æ€ä¹ˆå›ç­”ï¼Ÿ

ã€å®‹å¤ªå®—ã€‘ï¼šæœ•æ¯”å”å¤ªå®—ï¼Œå¦‚ä½•ï¼Ÿ

ã€å¤§è‡£ã€‘ï¼š

å”å¤ªå®—å¾—ä½ä¸æ­£ï¼Œé™›ä¸‹é¡ºå¤©æ‰¿å‘½ï¼Œå…„ç»ˆå¼ŸåŠï¼Œæ­¤é“èƒœä¸€ä¹Ÿã€‚

å”å¤ªå®—åŠ³å¸ˆè¿œå¾ï¼Œç©·å…µé»©æ­¦ï¼Œé™›ä¸‹ä¸ºæ°‘å®ˆåœŸï¼Œä»¥é™åˆ¶åŠ¨ï¼Œæ­¤ä¹‰èƒœäºŒä¹Ÿã€‚

å”å¤ªå®—å…¨æ‰¿éš‹åˆ¶ï¼Œåœ¨ä½æœŸé—´æœªæœ‰æ–°æ”¿ï¼Œé™›ä¸‹å³ä½ä»¥æ¥ï¼Œä¸€æ‰«é‡æ­¦è½»æ–‡ä¹‹é™‹ä¹ ï¼Œä»¥æ–‡æ²»å›½ï¼Œæ­¤æ²»èƒœä¸‰ä¹Ÿã€‚

å”å¤ªå®—ç¯¡æ”¹èµ·å±…æ³¨ï¼Œæ²½åé’“èª‰ï¼Œé™›ä¸‹å¹¿å¼€è¨€è·¯ï¼Œä»å–„å¦‚æµï¼Œä¸ç•æµè¨€ï¼Œæ­¤åº¦èƒœå››ä¹Ÿã€‚

å”å¤ªå®—å± å°½éšå¤ªå­åäººï¼Œå›šçˆ¶äºåå®«ï¼Œé™›ä¸‹å–„å¾…å¤ªç¥–ä¹‹åï¼Œæ­¤å¾·èƒœäº”ä¹Ÿã€‚

å”å¤ªå®—åœ¨ä½æ—¶ï¼Œä¼—çš‡å­äº‰å‚¨ä¸æ–­ï¼Œå…¶ç™¾å¹´ä»¥ååå®«ä½œä¹±ï¼Œç‰é¸¡å¸æ™¨ï¼Œé™›ä¸‹è¯¸çš‡å­å…„å‹å¼Ÿæ­ï¼Œçš†ä»çˆ±ä¹‹è¾ˆï¼Œæ­¤å­èƒœå…­ä¹Ÿã€‚

å”å¤ªå®—ç»ˆå…¶ä¸€æœï¼Œé¼ç››æ—¶å°šä¸è¿‡å‰éš‹ï¼Œé™›ä¸‹æ²»ä¸‹ä¸‡æ°‘å®‰å±…ä¹ä¸šï¼Œäººå£ç¹ç››è¿œèƒœåå‘¨ï¼Œæ­¤ä»èƒœä¸ƒä¹Ÿã€‚

å”å¤ªå®—åä¸ºå¤©å¯æ±—ï¼Œå´ä¸èƒ½æ”¶æœå¼‚æ—ï¼Œä»¥å…µé©ä¹‹åˆ©åˆ¶å¤·ï¼Œç»ˆè‡³å¤§å”å››é¢å—æ•Œï¼Œé™›ä¸‹ä¿®å¾·æ€€è¿œï¼Œå››å¤·ç§°é¢‚ï¼Œæ­¤äº¤èƒœå…«ä¹Ÿã€‚

å”å¤ªå®—ç•¥è¾“æ–‡é‡‡ï¼Œæ­¤äº‹åäººçš†çŸ¥ï¼Œé™›ä¸‹å–„ä¹¦æ³•è¯—èµ‹ï¼Œæ­¤æ–‡èƒœä¹ä¹Ÿã€‚

å”å¤ªå®—äºæ¸­æ°´ç­¾ä¸‹åŸä¸‹ä¹‹ç›Ÿï¼Œé™›ä¸‹è™½è¿œå¾å¥‘ä¸¹ä¸åˆ©ï¼Œå´èƒ½ä¿ä¸­åŸä¸ä¸ºæ•Œéª‘è·µè¸ï¼Œæ­¤æ­¦èƒœåä¹Ÿã€‚

é™›ä¸‹æœ‰åèƒœï¼Œå”å¤ªå®—æœ‰åè´¥ï¼Œç”±æ­¤è§‚ä¹‹ï¼Œå”å¤ªå®—ä¹‹æ¯”é™›ä¸‹ï¼Œå¦‚è¤ç«ä¹‹æ¯”æ—¥æœˆï¼Œéœ²ç ä¹‹æ¯”æ±Ÿæµ·ï¼Œé™›ä¸‹ä¹‹åŠŸï¼Œè™½å°§èˆœä¸èƒ½åŠä¹Ÿã€‚

ã€å®‹å¤ªå®—ã€‘ï¼šæ¥äººå‘ï¼Œç»™æœ•å‰å‡ºå»ã€‚

ã€å¤§è‡£ã€‘æ‹¼å‘½å›å¤´ï¼šå”å¤ªå®—æ˜­é™µå…­éªåŠä¸§ï¼Œé™›ä¸‹é©´è½¦å®‰ç„¶å½’äº¬ã€‚æ­¤é©¾èƒœä¹Ÿä¹Ÿä¹Ÿä¹Ÿ...

### 2. [RC4åŠ å¯†ç®—æ³•](https://zhou-yuxin.github.io/articles/2016/RC4%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/index.html)

RC4åŠ å¯†ç®—æ³•æ˜¯ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚æ‰€è°“å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¯´å¾—ç›´ç™½ä¸€ç‚¹ï¼Œå°±æ˜¯åŠ å¯†ä¸è§£å¯†çš„è¿‡ç¨‹ä¸€æ¨¡ä¸€æ ·ã€‚å‡è®¾å®šä¹‰RC4çš„è¿ç®—è¿‡ç¨‹æ˜¯rc4(key,data)ï¼Œé‚£ä¹ˆï¼Œå¯†æ–‡=rc4(key,æ˜æ–‡)ï¼Œæ˜æ–‡=rc4(key,å¯†æ–‡)ã€‚æ‰€ä»¥ï¼Œå¯¹ä¸€æ®µæ•°æ®è¿­ä»£åœ°åšå¥‡æ•°æ¬¡RC4è¿ç®—ï¼Œå°±å¾—åˆ°å¯†æ–‡ï¼Œå¯¹è¿™æ®µæ•°æ®è¿­ä»£åœ°åšå¶æ•°æ¬¡RC4è¿ç®—ï¼Œç»“æœä¾æ—§æ˜¯åŸæ¥çš„é‚£æ®µæ•°æ®ã€‚

è¿™ç§å¯¹ç§°æ€§å°±æ˜¯åŸºäºå¯†é’¥æµçš„åŠ å¯†ç®—æ³•çš„ä¸€ä¸ªç‰¹å¾ã€‚RC4åŠ å¯†ç®—æ³•ä¹Ÿæ˜¯ä¸€ç§åŸºäºå¯†é’¥æµçš„åŠ å¯†ç®—æ³•ã€‚ä½•ä¸ºå¯†é’¥æµå‘¢ï¼Ÿå‡è®¾è¦åŠ å¯†çš„æ•°æ®é•¿Nä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆæˆ‘é€šè¿‡æŸç§ç®—æ³•ï¼Œä¹Ÿäº§ç”Ÿä¸€ä¸²Nå­—èŠ‚çš„æ•°æ®ï¼Œç„¶åæŠŠè¿™ä¸¤ä¸²Nå­—èŠ‚æ•°æ®æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰ï¼Œå°±å¾—åˆ°äº†å¯†æ–‡ã€‚æŠŠå¯†æ–‡ä¸è¿™ä¸²å¯†é’¥æµå†XORï¼Œå°±èƒ½é‡æ–°å¾—åˆ°æ˜æ–‡ã€‚è€Œè¿™ä¸€ä¸²ç”±æŸç§ç®—æ³•äº§ç”Ÿçš„Nå­—èŠ‚ï¼Œæˆ–è€…è¯´8Nä½ï¼Œå°±å«åšå¯†é’¥æµï¼Œè€Œè¯¥ç®—æ³•å°±å«åšå¯†é’¥æµç”Ÿæˆç®—æ³•ã€‚æ‰€æœ‰åŸºäºå¯†é’¥æµçš„åŠ å¯†ç®—æ³•çš„åŒºåˆ«å°±åœ¨äºå¯†é’¥æµçš„ç”Ÿæˆæ–¹å¼çš„ä¸åŒã€‚åªè¦ç”Ÿæˆäº†ä¸æ•°æ®ç­‰é•¿çš„å¯†é’¥æµï¼Œé‚£ä¹ˆåŠ å¯†ã€è§£å¯†æ–¹å¼éƒ½æ˜¯æŠŠæ•°æ®ä¸å¯†é’¥æµåšå¼‚æˆ–è¿ç®—ã€‚

RC4æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§å¯†é’¥æµç”Ÿæˆç®—æ³•ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯ç®—æ³•ç®€å•ã€è¿ç®—æ•ˆç‡é«˜ï¼Œè€Œä¸”éçº¿æ€§åº¦è‰¯å¥½ã€‚ç®—æ³•ç®€å•çš„ç‰¹ç‚¹ä½¿å¾—å¯ä»¥ä½¿ç”¨ç¡¬ä»¶æ¥å®ç°RC4ï¼Œå¦‚åŒåœ¨å¾ˆå¤šæ—§çš„æ— çº¿ç½‘å¡ä¸­å°±æ˜¯ä½¿ç”¨ç¡¬ä»¶æ¥å®ç°WEPåŠ å¯†çš„ã€‚è¿ç®—æ•ˆç‡é«˜ä½¿å¾—ç”¨è½¯ä»¶å®ç°RC4ä¹Ÿå¾ˆä¾¿æ·ã€ä¸ä¼šå ç”¨è¿‡å¤šCPUã€‚è€Œéçº¿æ€§åº¦è‰¯å¥½ï¼Œåˆ™æ˜¯RC4å¹¿æ³›ä½¿ç”¨çš„é‡è¦åŸå› ã€‚æ‰€è°“éçº¿æ€§åº¦å¥½ï¼Œå°±æ˜¯æŒ‡é€šè¿‡å¯†ç äº§ç”Ÿå¯†é’¥æµå®¹æ˜“ï¼Œè€Œé€šè¿‡å¯†é’¥æµé€†æ¨å‡ºå¯†ç åˆ™å¾ˆéš¾ã€‚

å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šå±è¯ï¼Œå°±ä¸Šä»£ç äº†ï¼š

rc4.h

```C
#ifndef RC4_H
#define RC4_H

/*
å¯¼å‡ºrc4_cryptå‡½æ•°ï¼Œå‚æ•°ä¸ºè¦åŠ å¯†çš„æ•°æ®ã€æ•°æ®é•¿åº¦ã€å¯†ç ã€å¯†ç é•¿åº¦
*/
void rc4_crypt(unsigned char* p_data,unsigned int p_data_len,unsigned char* p_key,unsigned int p_key_len);

#endif
```

rc4.c

```C
#include <string.h>

static void rc4_init(unsigned char* p_s,unsigned char* p_key,unsigned int p_key_len)
{
    unsigned char t_k[256];
    int t_i;
    for(t_i=0;t_i<256;t_i++)
    {
        p_s[t_i]=t_i;
        t_k[t_i]=p_key[t_i%p_key_len];
    }
    int t_j=0;
    for(t_i=0;t_i<256;t_i++)
    {
        t_j=(t_j+p_s[t_i]+t_k[t_i])%256;
        unsigned char t_tmp=p_s[t_i];
        p_s[t_i]=p_s[t_j];
        p_s[t_j]=t_tmp;
    }
}

void rc4_crypt(unsigned char* p_data,unsigned int p_data_len,unsigned char* p_key,unsigned int p_key_len)
{
    unsigned char t_s[256];
    rc4_init(t_s,p_key,p_key_len);
    int t_i=0,t_j=0;
    unsigned int t_k;
    for(t_k=0;t_k<p_data_len;t_k++)
    {
        t_i=(t_i+1)%256;
        t_j=(t_j+t_s[t_i])%256;
        unsigned char t_tmp=t_s[t_i];
        t_s[t_i]=t_s[t_j];
        t_s[t_j]=t_tmp;
        int t_t=(t_s[t_i]+t_s[t_j])%256;
        p_data[t_k]^=t_s[t_t];
    }
}
```

è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦‚ä¸‹ï¼š

main.c

```C
#include <stdio.h>
#include "rc4.h"

int main()
{
    unsigned char t_data[]="hello,here is the data!";

    rc4_crypt(t_data,24,"password",8);
    printf("åŠ å¯†åçš„æ•°æ®:n");
    int t_i;
    for(t_i=0;t_i<24;t_i++)
        printf("%x ",t_data[t_i]);
    printf("n");

    rc4_crypt(t_data,24,"password",8);
    printf("è§£å¯†åçš„æ•°æ®:n");
    for(t_i=0;t_i<24;t_i++)
        printf("%c",t_data[t_i]);
    printf("n");

    return 0;
}
```

### 3. [Qt ä¹‹å®ç°å›¾ç‰‡è½®æ’­æ•ˆæœ](https://blog.csdn.net/goforwardtostep/article/details/79212468)

ä¸»è¦æ˜¯æä¾›æ¥å£è®¾ç½®å›¾ç‰‡åˆ—è¡¨çš„è·¯å¾„ï¼Œç„¶åé€šè¿‡åŠ¨ç”»ç±»æ¥ä¿®æ”¹å›¾ç‰‡çš„é€æ˜åº¦æ¥è¾¾åˆ°åˆ‡æ¢çš„åŠ¨ç”»æ•ˆæœã€‚è€Œå›¾ç‰‡æ˜¯ç›´æ¥é€šè¿‡ paintEvent äº‹ä»¶è¿›è¡Œç»˜åˆ¶çš„ï¼ŒåŒæ—¶ç»˜åˆ¶ä¸¤å¼ å›¾ç‰‡ï¼Œå…ˆç»˜åˆ¶ä¸‹ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åå†æ ¹æ®åŠ¨ç”»ç±»è¿”å›çš„é€æ˜åº¦ç»˜åˆ¶å½“å‰å›¾ç‰‡ã€‚å›¾ç‰‡è‡ªåŠ¨åˆ‡æ¢é€šè¿‡ä¸€ä¸ªæ—¶é’Ÿæ¥æå®šã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç‚¹å‡»ç™½è‰²å°æŒ‰é’®è¿›è¡Œå›¾ç‰‡åˆ‡æ¢ã€‚

CarouselImageWindow.h

```C++
#include <QWidget>
#include <QScrollArea>
#include <QTimer>
#include <QPropertyAnimation>
#include <QPushButton>

class CarouselImageWindow : public QWidget
{
	Q_OBJECT

public:
	CarouselImageWindow(QWidget *parent = NULL);
	~CarouselImageWindow();

	// è®¾ç½®å›¾ç‰‡åˆ—è¡¨;
	void setImageList(QStringList imageFileNameList);
	// æ·»åŠ å›¾ç‰‡;
	void addImage(QString imageFileName);
	// å¼€å§‹æ’­æ”¾;
	void startPlay();

private:
	// åˆå§‹åŒ–å›¾ç‰‡åˆ‡æ¢æŒ‰é’®;
	void initChangeImageButton();
	// ç»˜å›¾äº‹ä»¶;
	void paintEvent(QPaintEvent *event);

	// é¼ æ ‡ç‚¹å‡»äº‹ä»¶;
	void mousePressEvent(QMouseEvent* event);

public slots:
	// å›¾ç‰‡åˆ‡æ¢æ—¶é’Ÿ;
	void onImageChangeTimeout();

	// å›¾ç‰‡åˆ‡æ¢æŒ‰é’®ç‚¹å‡»;
	void onImageSwitchButtonClicked(int buttonId);

private:
	// ç”¨æ¥åšå›¾ç‰‡åˆ‡æ¢æ»‘åŠ¨æ•ˆæœï¼Œç›®å‰ä»¥é€æ˜åº¦ä½œä¸ºåˆ‡æ¢æ•ˆæœ;
	QScrollArea* m_imagePlayWidget;
	// å›¾ç‰‡åˆ—è¡¨;
	QList<QString> m_imageFileNameList;

	// å›¾ç‰‡åˆ‡æ¢æ—¶é’Ÿ;
	QTimer m_imageChangeTimer;

	// å½“å‰æ˜¾ç¤ºå›¾ç‰‡index;
	int m_currentDrawImageIndx;

	// åˆ‡æ¢å›¾ç‰‡;
	QPixmap m_currentPixmap;
	QPixmap m_nextPixmap;
	// å›¾ç‰‡åˆ‡æ¢åŠ¨ç”»ç±»;
	QPropertyAnimation* m_opacityAnimation;
	// æŒ‰é’®åˆ—è¡¨;
	QList<QPushButton*> m_pButtonChangeImageList;
};
```

CarouselImageWindow.cpp

```C++
#include "CarouselImageWindow.h"
#include <QHBoxLayout>
#include <QPainter>
#include <QDebug>
#include <QButtonGroup>

CarouselImageWindow::CarouselImageWindow(QWidget *parent)
    : QWidget(parent)
    , m_currentDrawImageIndx(0)
{
    // æ·»åŠ ImageOpacityå±æ€§;
    this->setProperty("ImageOpacity", 1.0);

    // åŠ¨ç”»åˆ‡æ¢ç±»;
    m_opacityAnimation = new QPropertyAnimation(this, "ImageOpacity");
    // è¿™é‡Œè¦è®¾ç½®çš„åŠ¨ç”»æ—¶é—´å°äºå›¾ç‰‡åˆ‡æ¢æ—¶é—´;
    m_opacityAnimation->setDuration(1500);

    // è®¾ç½®ImageOpacityå±æ€§å€¼çš„å˜åŒ–èŒƒå›´;
    m_opacityAnimation->setStartValue(1.0);
    m_opacityAnimation->setEndValue(0.0);
    // é€æ˜åº¦å˜åŒ–åŠæ—¶æ›´æ–°ç»˜å›¾;
    connect(m_opacityAnimation, SIGNAL(valueChanged(const QVariant&)), this, SLOT(update()));
    // è®¾ç½®å›¾ç‰‡åˆ‡æ¢æ—¶é’Ÿæ§½å‡½æ•°;
    connect(&m_imageChangeTimer, SIGNAL(timeout()), this, SLOT(onImageChangeTimeout()));

    this->setFixedSize(QSize(400, 250));

    this->setWindowFlags(Qt::FramelessWindowHint);
}

CarouselImageWindow::~CarouselImageWindow()
{

}

void CarouselImageWindow::initChangeImageButton() {
    // æ³¨æ„å›¾ç‰‡è¿‡å¤šæŒ‰é’®å¯èƒ½æ”¾ç½®ä¸ä¸‹;
    QButtonGroup* changeButtonGroup = new QButtonGroup;
    QHBoxLayout* hLayout = new QHBoxLayout();
    hLayout->addStretch();
    for (int i = 0; i < m_imageFileNameList.count(); i++) {
        QPushButton* pButton = new QPushButton;
        pButton->setFixedSize(QSize(16, 16));
        pButton->setCheckable(true);
        pButton->setStyleSheet("QPushButton{border-image:url(:/Resources/select1.png);}\
                                QPushButton:checked{border-image:url(:/Resources/select2.png);}");
        changeButtonGroup->addButton(pButton, i);
        m_pButtonChangeImageList.append(pButton);
        hLayout->addWidget(pButton);
    }
    hLayout->addStretch();
    hLayout->setSpacing(10);
    hLayout->setMargin(0);

    connect(changeButtonGroup, SIGNAL(buttonClicked(int)), this, SLOT(onImageSwitchButtonClicked(int)));

    QVBoxLayout* mainLayout = new QVBoxLayout(this);
    mainLayout->addStretch();
    mainLayout->addLayout(hLayout);
    mainLayout->setContentsMargins(0, 0, 0, 20);
}

void CarouselImageWindow::setImageList(QStringList imageFileNameList) {
    m_imageFileNameList = imageFileNameList;
}

void CarouselImageWindow::addImage(QString imageFileName) {
    m_imageFileNameList.append(imageFileName);
}

void CarouselImageWindow::startPlay() {
    // æ·»åŠ å®Œå›¾ç‰‡ä¹‹åï¼Œæ ¹æ®å›¾ç‰‡å¤šå°‘è®¾ç½®å›¾ç‰‡åˆ‡æ¢æŒ‰é’®;
    initChangeImageButton();
    if (m_imageFileNameList.count() == 1) {
        m_pButtonChangeImageList[m_currentDrawImageIndx]->setChecked(true);
    }
    else if (m_imageFileNameList.count() > 1) {
        m_pButtonChangeImageList[m_currentDrawImageIndx]->setChecked(true);
        m_currentPixmap = QPixmap(m_imageFileNameList.at(m_currentDrawImageIndx));
        m_imageChangeTimer.start(2000);
        update();
    }   
}

void CarouselImageWindow::onImageChangeTimeout() {
    // è®¾ç½®å‰åçš„å›¾ç‰‡;
    m_currentPixmap = QPixmap(m_imageFileNameList.at(m_currentDrawImageIndx));
    m_currentDrawImageIndx++;
    if (m_currentDrawImageIndx >= m_imageFileNameList.count()) {
        m_currentDrawImageIndx = 0;
    }
    m_nextPixmap = QPixmap(m_imageFileNameList.at(m_currentDrawImageIndx));

    m_pButtonChangeImageList[m_currentDrawImageIndx]->setChecked(true);

    // åŠ¨ç”»ç±»é‡æ–°å¼€å§‹; 
    m_opacityAnimation->start();
}

void CarouselImageWindow::paintEvent(QPaintEvent *event) {
    QPainter painter(this);
    QRect imageRect = this->rect();

    // å¦‚æœå›¾ç‰‡åˆ—è¡¨ä¸ºç©ºï¼Œæ˜¾ç¤ºé»˜è®¤å›¾ç‰‡;
    if (m_imageFileNameList.isEmpty()) {
        QPixmap backPixmap = QPixmap(":/Resources/CarouselImageBack.png");
        painter.drawPixmap(imageRect, backPixmap.scaled(imageRect.size()));
    }
    // å¦‚æœåªæœ‰ä¸€å¼ å›¾ç‰‡;
    else if (m_imageFileNameList.count() == 1) {
        QPixmap backPixmap = QPixmap(m_imageFileNameList.first());
        painter.drawPixmap(imageRect, backPixmap.scaled(imageRect.size()));
    }
    // å¤šå¼ å›¾ç‰‡;
    else if (m_imageFileNameList.count() > 1) {
        float imageOpacity = this->property("ImageOpacity").toFloat();
        painter.setOpacity(1);
        painter.drawPixmap(imageRect, m_nextPixmap.scaled(imageRect.size()));
        painter.setOpacity(imageOpacity);
        painter.drawPixmap(imageRect, m_currentPixmap.scaled(imageRect.size()));
    }
}

void CarouselImageWindow::onImageSwitchButtonClicked(int buttonId) {
    m_currentDrawImageIndx = buttonId - 1;
    if (m_currentDrawImageIndx == -1) {
        m_currentDrawImageIndx = m_imageFileNameList.count() - 1;
    }

    onImageChangeTimeout();
    m_imageChangeTimer.start(2000);
    update();
}

void CarouselImageWindow::mousePressEvent(QMouseEvent* event) {
    // è¿™é‡Œå¯ä»¥å¯¹å½“å‰å›¾ç‰‡è¿›è¡Œç‚¹å‡»ç„¶åè§¦å‘æ¯ä¸ªå›¾ç‰‡å¯¹åº”çš„æ•ˆæœ;
    // æ¯”å¦‚webä¸Šå¥½å¤šç±»ä¼¼çš„å¼¹å‡ºå¯¹åº”çš„å¹¿å‘Šé¡µé¢ç­‰åŠŸèƒ½;
    qDebug() << m_currentDrawImageIndx;
    return __super::mousePressEvent(event);
}
```

æµ‹è¯•ä»£ç 

```C++
int main(int argc, char *argv[]) {
	QApplication a(argc, argv);
	CarouselImageWindow w;
	w.addImage(":/Resources/image1.jpg");
	w.addImage(":/Resources/image2.jpg");
	w.addImage(":/Resources/image3.jpg");
	w.addImage(":/Resources/image4.jpg");
	w.startPlay();
	w.show();
	return a.exec();
}
```



## tip [ğŸ”](#weekly-73)

## share [ğŸ”](#weekly-73)

### 1. [äººç”Ÿå…­æˆ’](https://app.bjtitle.com/8816/newshow.php?newsid=5585655)

æ›¾å›½è—©æ˜¯æ˜¥ç§‹æˆ˜å›½æ—¶ä»£æ›¾å­çš„ä¸ƒåä¸–å­™ã€‚

ä»–æ›¾åˆ›ä¸‹ä¹å¹´åå‡çš„å®˜åœºå¥‡è¿¹ï¼Œæ˜¯æ¸…æœä¸­å…´çš„å››å¤§åè‡£ä¹‹ä¸€ã€‚

ä»–æ˜¯ä¸­å›½è¿‘ä»£æ”¿æ²»å®¶ã€æˆ˜ç•¥å®¶ã€ç†å­¦å®¶ã€æ–‡å­¦å®¶ï¼Œæ¹˜å†›çš„åˆ›ç«‹è€…å’Œç»Ÿå¸…ï¼›

ä»–å› ä¸ºåœ¨å­¦é—®å’Œäº‹åŠŸæ–¹é¢çš„æˆå°±è€Œå¤‡å—åä¸–æ¨å´‡ã€‚

è¯»æ‡‚æ›¾å›½è—©çš„äººç”Ÿ "å…­æˆ’"ï¼Œå°±å­¦åˆ°äº†ä»–çš„åšäººåšäº‹ä¹‹é“ã€‚

01

ç¬¬ä¸€æˆ’ï¼š

**ä¹…åˆ©ä¹‹äº‹å‹¿ä¸ºï¼Œä¼—äº‰ä¹‹åœ°å‹¿å¾€**

ç¿»è¯‘ï¼š

ä¸€ç›´éƒ½èƒ½è·åˆ©çš„äº‹æƒ…ï¼Œå°±è¦è€ƒè™‘æ˜¯å¦è¦ç»ˆæ­¢ï¼›åˆ«äººéƒ½åœ¨äº‰çš„åœ°æ–¹ï¼Œå°±ä¸è¦å»äº†ã€‚

é‡Šè¯»ï¼š

å‰åŠå¥æ˜¯è¯´äººè¦æ‡‚å¾— "è§å¥½å°±æ”¶"ï¼Œä¸è¦å¹»æƒ³ç€ä¸€ä»¶äº‹ä¼šä¸€ç›´å¾—åˆ©ï¼Œä¸‡ç‰©æœ‰ç”Ÿæœ‰æ­»ï¼Œæœ‰æ¶ˆæœ‰é•¿ã€‚

å‡¡äº‹éƒ½ä¸ä¼šä¾‹å¤–ï¼Œæ‰€ä»¥å¦‚æœä¸€ä»¶äº‹ä¸€ç›´è·åˆ©ï¼Œé‚£ä¹ˆè¡°è´¥æˆ–è€…äºæŸçš„æ—¶å€™å°±è¦åˆ°äº†ã€‚è¿™æ—¶å€™åŠ¡å¿…ä¿æŒæ¸…é†’ã€‚

ååŠå¥è¯´çš„æ˜¯ä¿èº«ä¹‹é“ï¼Œåˆ«äººéƒ½åœ¨äº‰çš„åœ°æ–¹ï¼Œä¸€å®šæ˜¯å±é™©çš„åœ°æ–¹ï¼Œå®¹æ˜“æ‹›æƒ¹éº»çƒ¦æˆ–è€…ç¥¸æ‚£ã€‚

å›å­ä¸ç«‹å±å¢™ä¹‹ä¸‹ï¼Œæ— è®ºåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œéƒ½è¦æ³¨æ„è§‚å¯Ÿå½¢åŠ¿ï¼Œä¸è¦è®©è‡ªå·±é™·å…¥é™©å¢ƒã€‚

02

ç¬¬äºŒæˆ’ï¼š

**å‹¿ä»¥å°æ¶å¼ƒäººå¤§ç¾ï¼Œå‹¿ä»¥å°æ€¨å¿˜äººå¤§æ©**

ç¿»è¯‘ï¼š

ä¸è¦å› ä¸ºåˆ«äººçš„å°ç¼ºç‚¹å°±å¿½è§†ä»–çš„ä¼˜ç‚¹ï¼Œä¸è¦å› ä¸ºå°å°çš„æ©æ€¨å°±å¿½ç•¥äº†åˆ«äººçš„å¤§æ©ã€‚

é‡Šè¯»ï¼š

äººæ— å®Œäººï¼Œæ¯ä¸ªäººéƒ½æœ‰ç¼ºç‚¹ï¼Œä¸è¦å› ä¸ºåˆ«äººçš„ä¸€ç‚¹ç¼ºç‚¹ï¼Œå°±å¦å®šä¸€ä¸ªäººçš„å…¨éƒ¨ã€‚

ä¸è¦å› ä¸ºä¸ªäººçš„ä¸€ç‚¹å°æ©æ€¨ï¼Œå°±å…¨ç›˜å¦å®šï¼Œå¿˜è®°ä¸€ä¸ªäººçš„æ©æƒ…ã€‚

å­”å­ä¸å–œæ¬¢ç®¡ä»²ï¼Œè¯´ä»–å¥¢é¡æµªè´¹ï¼Œå¤ªçœ‹é‡æ’åœºã€‚

ä½†æ˜¯åœ¨ã€Šè®ºè¯­ã€‹ä¸­ï¼Œè¿˜æœ‰è¿™æ ·ä¸€å¥è¯ï¼š"å¾®ç®¡ä»²ï¼Œå¾å…¶è¢«å‘å·¦è¡½çŸ£ã€‚"

æ„æ€æ˜¯è¯´ï¼šæ²¡æœ‰ç®¡ä»²å°Šç‹æ”˜å¤·ï¼Œä¸€åŒ¡å¤©ä¸‹ï¼Œæˆ‘ä»¬è¿˜éƒ½æ˜¯æŠ«å¤´æ•£å‘çš„é‡äººå‘¢ã€‚

åœ¨å¾…äººæ¥ç‰©çš„æ—¶å€™ï¼Œä¸€å®šä¸è¦å¤ªæ„Ÿæƒ…ç”¨äº‹ï¼Œä¸€å®šè¦å®¢è§‚ã€å…¬æ­£åœ°çœ‹å¾…åˆ«äººçš„ç¼ºç‚¹å’Œä¸è¶³ã€‚

è¿™æ‰æ˜¯ä¸€ä¸ªäººæˆç†Ÿçš„è¡¨ç°ã€‚

03

ç¬¬ä¸‰æˆ’ï¼š

**è¯´äººä¹‹çŸ­ä¹ƒæŠ¤å·±ä¹‹çŸ­ï¼Œå¤¸å·±ä¹‹é•¿ä¹ƒå¿Œäººä¹‹é•¿**

ç¿»è¯‘ï¼š

é‚£ç§ç»å¸¸è°ˆè®ºåˆ«äººç¼ºç‚¹çš„äººï¼Œå†…å¿ƒå…¶å®æ˜¯å€Ÿæ­¤åœ¨æ©é¥°è‡ªå·±çš„ç¼ºç‚¹ï¼›ç»å¸¸å¤¸è€€è‡ªå·±é•¿å¤„çš„äººï¼Œå†…å¿ƒå…¶å®æ˜¯å«‰å¦’æˆ–è€…æƒ³æ©ç›–åˆ«äººçš„é•¿å¤„ç½¢äº†ã€‚

é‡Šè¯»ï¼š

è€æ˜¯è®¨è®ºåˆ«äººç¼ºç‚¹ï¼Œå¹å˜˜è‡ªå·±ä¼˜ç‚¹çš„äººï¼Œå…¶å®å†…å¿ƒåè€Œæ˜¯ä¸å¤Ÿå……å®åšå®šçš„ã€‚

ä»–ä»¬å†…å¿ƒæ²¡æœ‰ä¿¡å¿ƒï¼Œæ‰€ä»¥å–œæ¬¢æ‰“å‡»åˆ«äººï¼Œå¤¸è€€è‡ªå·±ã€‚

è¿™æ ·çš„äººå°±åƒçº¸è€è™ï¼Œå¾€å¾€ä¸€æˆ³å°±ç ´ã€‚

è€Œä¸”ï¼Œä»–ä»¬ç»å¸¸è®¨è®ºåˆ«äººçš„ç¼ºç‚¹ï¼Œå®¹æ˜“æ‹›è‡´åˆ«äººçš„æ€¨æ¨ï¼Œç»å¸¸å¤¸è€€è‡ªå·±çš„ä¼˜ç‚¹ï¼Œå®¹æ˜“æ‹›äººåæ„Ÿã€‚

è¿™æ ·çš„äººï¼Œæƒ…å•†å¤ªä½ï¼Œè¿Ÿæ—©ä¼šæ‹›è‡´ç¥¸æ‚£ã€‚

04

ç¬¬å››æˆ’ï¼š

**åˆ©å¯å…±è€Œä¸å¯ç‹¬ï¼Œè°‹å¯å¯¡è€Œä¸å¯ä¼—**

ç¿»è¯‘ï¼š

åˆ©ç›Šä¸€å®šè¦æ‡‚å¾—åˆ†äº«ç»™ä¼—äººï¼Œè°‹åˆ’å¤§äº‹æœ€å¥½è‡ªå·±æ‹¿ä¸»æ„ã€‚

é‡Šè¯»ï¼š

æ¯ä¸ªäººéƒ½æ¸´æœ›åˆ©ç›Šï¼Œå¦‚æœè°æƒ³ç‹¬å ï¼Œé‚£å°±æ˜¯å¤§å®¶çš„æ•Œäººã€‚

æƒ³è¦æˆäº‹ï¼Œå°±å¿…é¡»æ‡‚å¾—åˆ†äº«åˆ©ç›Šï¼Œæ›¾å›½è—©åœ¨ä»»æœŸé—´ï¼Œå‘æœå»·ä¸¾èäººæ‰æ— æ•°ï¼Œå®˜ä½è´¢å¯Œæ¯«ä¸åå•¬ä¸ä¸‹å±åˆ†äº«ã€‚

äºæ˜¯æ›¾å›½è—©æ‹›æ½çš„äººæ‰æœ€å¤šï¼Œäººå¿ƒä¹Ÿæœ€é½ã€‚

ã€Šæˆ˜å›½ç­–ã€‹ä¸Šè¯´ï¼Œ"è®ºè‡³å¾·è€…ä¸å’Œäºä¿—ï¼Œæˆå¤§åŠŸè€…ä¸è°‹äºä¼—ã€‚"

è°‹åˆ’ç‰¹åˆ«é‡å¤§çš„äº‹æƒ…æ—¶ï¼Œä¸è¦å’Œå¤§ä¼—å•†é‡ï¼Œå°½é‡è‡ªå·±æ‹¿ä¸»æ„ã€‚

å› ä¸ºè‡ªå¤ä»¥æ¥ï¼Œæˆå¤§äº‹çš„äººéƒ½æœ‰ä¸å‡¡çš„æ ¼å±€å’Œæ°”é­„ï¼Œè¿™æ ·çš„äººä¸‡ä¸­æ— ä¸€ã€‚

å’Œå¤§ä¼—ä¸€èµ·è°‹åˆ’å¤§äº‹ï¼Œä¸ƒå˜´å…«èˆŒï¼Œåè€Œå®¹æ˜“ç ´åä¿¡å¿ƒï¼Œå¹²æ‰°åˆ¤æ–­ã€‚

05

ç¬¬äº”æˆ’ï¼š

**å¤©ä¸‹å¤ä»Šä¹‹åº¸äººï¼Œçš†ä»¥ä¸€æƒ°å­—è‡´è´¥ï¼›å¤©ä¸‹å¤ä»Šä¹‹æ‰äººï¼Œçš†ä»¥ä¸€å‚²å­—è‡´è´¥**

ç¿»è¯‘ï¼š

å¤©èµ‹å¹³å¹³çš„äººï¼Œä¸€èˆ¬è¾“åœ¨æ‡’ä¸Šï¼Œå¤©èµ‹æƒŠè‰³çš„äººï¼Œä¸€èˆ¬éƒ½è¾“åœ¨å‚²ä¸Šã€‚

é‡Šè¯»ï¼š

å¯¹äºä¸€èˆ¬äººæ¥è¯´ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤©èµ‹ï¼Œåªèƒ½é è‡ªå·±åå¤©çš„åŠªåŠ›ï¼Œæ‰èƒ½æˆå°±ä¸€ç•ªäº‹ä¸šï¼Œæ‰€ä»¥ï¼Œæœ€å¿Œè®³çš„å°±æ˜¯ä¸€ä¸ªæ‡’ã€‚

é‚£äº›å¤©èµ‹å¥½çš„äººï¼Œèªæ˜æ•é”ï¼Œæ‰æ°”é€¼äººï¼Œä½†æ˜¯ä¹Ÿå› æ­¤å®¹æ˜“å­¤å‚²è‡ªå¤§ï¼Œæ•…æ­¥è‡ªå°ï¼Œæ‰€ä»¥ï¼Œä»–ä»¬æœ€å¿Œè®³çš„å°±æ˜¯ä¸€ä¸ªå‚²å­—ã€‚

æ›¾å›½è—©æœ¬èº«å¤©èµ‹ä¸é«˜ï¼Œä½†æ˜¯ä»–å´ä»¥ä¸€ä¸ªå‹¤å­—ï¼Œæˆå°±äº†åŒæ—¶ä»£å¤©æ‰ä»¬éš¾ä»¥ä¼åŠçš„äº‹ä¸šå’Œå­¦é—®ã€‚

å¯ä»¥è¯´æ›¾å›½è—©æ­£æ˜¯æ™®é€šäººçš„æ¦œæ ·ã€‚è€Œå¦‚é¡¹ç¾½ã€æè‡ªæˆç­‰ï¼Œå å°½å¤©æ—¶åœ°åˆ©ï¼Œå´æœ€ç»ˆå› ä¸ºéª„å‚²è€Œè´¥äº¡ã€‚

06

ç¬¬å…­æˆ’ï¼š

**å‡¡åŠå¤§äº‹ï¼Œä»¥è¯†ä¸ºä¸»ï¼Œä»¥æ‰ä¸ºè¾…ï¼›å‡¡æˆå¤§äº‹ï¼Œäººè°‹å±…åŠï¼Œå¤©æ„å±…åŠ**

ç¿»è¯‘ï¼š

åŠå¤§äº‹ä¸»è¦æ˜¯çœ‹æ ¼å±€å’Œè§è¯†ï¼Œæ‰èƒ½åªæ˜¯è¾…åŠ©ï¼›å‡¡æ˜¯è¦åšå¤§äº‹ï¼Œä¸€åŠåœ¨äºäººçš„è°‹åˆ’ï¼Œå¦ä¸€åŠå°±è¦çœ‹å¤©æ„äº†ã€‚

é‡Šè¯»ï¼š

åˆ˜é‚¦æ”»ä¸‹å’¸é˜³ï¼Œè¯¸å°†éƒ½å»æŠ¢é‡‘é“¶ç¾å¥³ï¼Œåªæœ‰è§ä½•å°å­˜äº†ç§¦å›½çš„æˆ·ç±ã€åœ°å½¢ã€æ³•ä»¤ã€‚

è¿™äº›ææ–™ä¸ºåˆ¶å®šæ­£ç¡®çš„æ–¹é’ˆæ”¿ç­–å’Œå¾‹ä»¤åˆ¶åº¦æ‰¾åˆ°äº†å¯é çš„æ ¹æ®ï¼Œå¯¹æ—¥åè¥¿æ±‰æ”¿æƒçš„å»ºç«‹å’Œå·©å›ºï¼Œèµ·åˆ°äº†å·¨å¤§çš„ä½œç”¨ï¼Œè§ä½•åŠŸä¸å¯æ²¡ã€‚

èŠ±ç›†é‡Œé•¿ä¸å‡ºå‚å¤©å¤§æ ‘ï¼Œä¸€ä¸ªäººçš„è§è¯†å’Œæ ¼å±€ï¼Œå†³å®šç€ä¸€ä¸ªäººæ‰€èƒ½æŠµè¾¾çš„é«˜åº¦ã€‚

å¤§äº‹ï¼Œä»¥è¯†ä¸ºä¸»ï¼Œè§è¯†ä¸Šé«˜ç»è¿œç©ï¼Œæ‰èƒ½å…ˆäººä¸€æ­¥ã€‚

è€Œ "äººè°‹å±…åŠï¼Œå¤©æ„å±…åŠ" åˆ™æ˜¯è¯´ï¼Œæ— è®ºåšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½ä¸æ˜¯ç™¾åˆ†ä¹‹ç™¾èƒ½æˆåŠŸçš„ã€‚

æˆ‘ä»¬åªèƒ½ "å°½äººäº‹ä»¥å¬å¤©å‘½"ï¼ŒæŠŠå¿ƒæ€æ”¾å¹³ã€‚

ä¸è¦å› ä¸ºæœ‰è‡ªå·±ä¸èƒ½å·¦å³çš„å› ç´ å°±ä¸å»åŠªåŠ›ï¼Œæ›´ä¸èƒ½å› ä¸ºè‡ªå·±åŠªåŠ›äº†ï¼Œæœ€ç»ˆå´å¤±è´¥äº†è€Œå»æ€¨å¤©å°¤äººã€‚

[readme](../README.md) | [previous](202407W4.md) | [next](202408W2.md)
