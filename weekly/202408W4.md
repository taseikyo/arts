> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2024-08-18 - 2024-08-24

# Weekly #76

[readme](../README.md) | [previous](202408W3.md) | [next](202408W5.md)

![](../images/2024/08/khanh-nguyen-jE-56UoLT3g-unsplash.jpg "Weekly #76")

\**Photo by [Khanh Nguyen](https://unsplash.com/@passengerslover92) on [Unsplash](https://unsplash.com/photos/a-woman-pushing-a-cart-full-of-items-down-a-street-jE-56UoLT3g)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
	- 同步远端的状态，删除远端已不存在的本地分支
- [share](#share-)

## algorithm [🔝](#weekly-76)

## review [🔝](#weekly-76)

## tip [🔝](#weekly-76)

### 1. 同步远端的状态，删除远端已不存在的本地分支

可以使用以下 Git 命令同步远端的状态，并删除远端已不存在的本地分支：

```bash
git fetch --prune
git branch -vv | awk '/: gone]/{print $1}' | xargs git branch -d
```

1. `git fetch --prune`：获取远端的最新状态，并删除本地已跟踪但远端已删除的远端分支（如 `origin/xxx`）。
2. `git branch -vv`：列出所有本地分支及其跟踪的远端分支状态。
3. `awk '/: gone]/{print $1}'`：筛选出远端已删除的本地分支（即 `gone` 标记的分支）。
4. `xargs git branch -d`：批量删除这些本地分支（`-d` 仅删除已合并的分支）。
   - 如果要强制删除未合并的分支，可以改为 `xargs git branch -D`。

这样，你的本地仓库就会完全同步远端的状态，并删除所有远端已不存在的本地分支。

## share [🔝](#weekly-76)

[readme](../README.md) | [previous](202408W3.md) | [next](202408W5.md)
