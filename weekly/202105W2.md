> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-05-01 - 2021-05-01

# Weekly #28

[readme](../README.md) | [previous](202105W1.md) | [next](202105W3.md)

## Table of Contents

- [algorithm](#algorithm-)
    - 来，挑战一套Python面试题
    - 一道新浪面试题
- [review](#review-)
- [tip](#tip-)
    - Python async 异步编程
- [share](#share-)

## algorithm [🔝](#weekly-28)

### 1. [来，挑战一套Python面试题](https://zhuanlan.zhihu.com/p/110719837)

- [zhihu_python3_interview.ipynb](../code/zhihu_python3_interview.ipynb)

1、下面的 Python 代码会输出什么

```Python
print([(x, y) for x, y in zip('abcd', (1, 2, 3, 4, 5))])
print({x: f'item{x ** 2}' for x in range(5) if x % 2})
print(len({x for x in 'hello world' if x not in 'abcdefg'}))
# [('a', 1), ('b', 2), ('c', 3), ('d', 4)]
# {1: 'item1', 3: 'item9'}
# 6
```

```Python
from functools import reduce

items = [11, 12, 13, 14]
print(reduce(int.__mul__, map(lambda x: x // 2,
                              filter(lambda x: x ** 2 > 150, items))))
# 42
```

2、写一个函数，该函数的参数是一个列表，如果列表中的有三个元素相加之和为 0，就将这个三个元素组成一个三元组，最后该函数返回一个包含了所有这样的三元组的列表。

```Python
def foo(array):
    for x in range(len(array)):
        for y in range(x+1, len(array)):
            for z in range(y+1, len(array)):
                if array[x] + array[y] + array[z] == 0:
                    print(x, y, z)
```

3、用 5 个线程，将 1 \~ 100 的整数累加到一个初始值为 0 的变量上，每次累加时将线程 ID 和本次累加后的结果打印出来。

```Python
import threading


class MyThread(threading.Thread):
    def __init__(self):
        super(MyThread, self).__init__()

    def run(self):
        print(sum(range(1, 100)) + self.ident)


for x in range(5):
    MyThread().start()
# 17862
# 16258
# 7678
# 9902
# 9334
```

### 2. 一道新浪面试题

```Python
func_list = [lambda x: x+i for i in range(10)]
v1 = func_list[0](100)
v2 = func_list[3](100)
print(v1, v2)
```

结果是 109 和 109，真有趣。

至于为啥是这样，查了一下，是因为只有在调用函数的时候才开始对内部的变量进行引用，对 i 来说, 当函数对它引用的时候, 它已经变为 9 了。

## review [🔝](#weekly-28)

## tip [🔝](#weekly-28)

### 1. Python async 异步编程

- [python3-async-wupeiqi.ipynb](../code/python3-async-wupeiqi.ipynb)

- 讲师：武沛奇
- 视频链接：https://www.bilibili.com/video/BV1cK4y1E77y

感觉讲得挺不错的，听下来对 Python 异步编程又有了更深的理解。

## share [🔝](#weekly-28)

[readme](../README.md) | [previous](202105W1.md) | [next](202105W3.md)
