> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-05-06 - 2021-05-12

# Weekly #28

[readme](../README.md) | [previous](202105W1.md) | [next](202105W3.md)

## Table of Contents

- [algorithm](#algorithm-)
    - æ¥ï¼ŒæŒ‘æˆ˜ä¸€å¥—Pythoné¢è¯•é¢˜
    - ä¸€é“æ–°æµªé¢è¯•é¢˜
- [review](#review-)
    - æŒæ¡ 10 ä¸ªæœ‰ç”¨çš„ Python ä»£ç ç‰‡æ®µï¼Œç¼–ç¨‹åƒ Pro
    - é€‚ç”¨äºæ—¥å¸¸ç¼–ç¨‹çš„ 11 ä¸ª Python å•è¡Œä»£ç 
    - ä¸‰åˆ†é’Ÿç†è§£ Python çš„ Lambdas è¡¨è¾¾å¼
- [tip](#tip-)
    - Python async å¼‚æ­¥ç¼–ç¨‹
- [share](#share-)

## algorithm [ğŸ”](#weekly-28)

### 1. [æ¥ï¼ŒæŒ‘æˆ˜ä¸€å¥—Pythoné¢è¯•é¢˜](https://zhuanlan.zhihu.com/p/110719837)

- [zhihu_python3_interview.ipynb](../code/zhihu_python3_interview.ipynb)

1ã€ä¸‹é¢çš„ Python ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆ

```Python
print([(x, y) for x, y in zip('abcd', (1, 2, 3, 4, 5))])
print({x: f'item{x ** 2}' for x in range(5) if x % 2})
print(len({x for x in 'hello world' if x not in 'abcdefg'}))
# [('a', 1), ('b', 2), ('c', 3), ('d', 4)]
# {1: 'item1', 3: 'item9'}
# 6
```

```Python
from functools import reduce

items = [11, 12, 13, 14]
print(reduce(int.__mul__, map(lambda x: x // 2,
                              filter(lambda x: x ** 2 > 150, items))))
# 42
```

2ã€å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœåˆ—è¡¨ä¸­çš„æœ‰ä¸‰ä¸ªå…ƒç´ ç›¸åŠ ä¹‹å’Œä¸º 0ï¼Œå°±å°†è¿™ä¸ªä¸‰ä¸ªå…ƒç´ ç»„æˆä¸€ä¸ªä¸‰å…ƒç»„ï¼Œæœ€åè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰è¿™æ ·çš„ä¸‰å…ƒç»„çš„åˆ—è¡¨ã€‚

```Python
def foo(array):
    for x in range(len(array)):
        for y in range(x+1, len(array)):
            for z in range(y+1, len(array)):
                if array[x] + array[y] + array[z] == 0:
                    print(x, y, z)
```

3ã€ç”¨ 5 ä¸ªçº¿ç¨‹ï¼Œå°† 1 \~ 100 çš„æ•´æ•°ç´¯åŠ åˆ°ä¸€ä¸ªåˆå§‹å€¼ä¸º 0 çš„å˜é‡ä¸Šï¼Œæ¯æ¬¡ç´¯åŠ æ—¶å°†çº¿ç¨‹ ID å’Œæœ¬æ¬¡ç´¯åŠ åçš„ç»“æœæ‰“å°å‡ºæ¥ã€‚

```Python
import threading


class MyThread(threading.Thread):
    def __init__(self):
        super(MyThread, self).__init__()

    def run(self):
        print(sum(range(1, 100)) + self.ident)


for x in range(5):
    MyThread().start()
# 17862
# 16258
# 7678
# 9902
# 9334
```

### 2. ä¸€é“æ–°æµªé¢è¯•é¢˜

```Python
func_list = [lambda x: x+i for i in range(10)]
v1 = func_list[0](100)
v2 = func_list[3](100)
print(v1, v2)
```

ç»“æœæ˜¯ 109 å’Œ 109ï¼ŒçœŸæœ‰è¶£ã€‚

è‡³äºä¸ºå•¥æ˜¯è¿™æ ·ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œæ˜¯å› ä¸ºåªæœ‰åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™æ‰å¼€å§‹å¯¹å†…éƒ¨çš„å˜é‡è¿›è¡Œå¼•ç”¨ï¼Œå¯¹ i æ¥è¯´, å½“å‡½æ•°å¯¹å®ƒå¼•ç”¨çš„æ—¶å€™, å®ƒå·²ç»å˜ä¸º 9 äº†ã€‚

## review [ğŸ”](#weekly-28)

### 1. [æŒæ¡ 10 ä¸ªæœ‰ç”¨çš„ Python ä»£ç ç‰‡æ®µï¼Œç¼–ç¨‹åƒ Pro](https://betterprogramming.pub/10-useful-python-snippets-to-code-like-a-pro-e3d9a34e6145)

æ ‡é¢˜æ˜¯ *10 Useful Python Snippets To Code Like a Pro*ï¼Œæˆ‘ç›´æ¥ç¡¬ç¿»çš„ã€‚

1ã€äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼

```Python
a = 1
b = 2
a, b = b, a
```

2ã€ä¸ç”¨å¾ªç¯æ¥å¤åˆ¶å­—ç¬¦ä¸²

```Python
name = "Banana"
print(name * 4)
```

3ã€åè½¬å­—ç¬¦ä¸²

```Python
sentence = "This is just a test"
reversed = sentence[::-1]
```

4ã€å°†å­—ç¬¦ä¸²åˆ—è¡¨å‹ç¼©ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²

```Python
words = ["This", "is", "a", "Test"]
combined = " ".join(words)
```

5ã€åˆå¹¶æ¯”è¾ƒæ“ä½œï¼ˆComparison Chainsï¼‰

```Python
x = 100
res = 0 < x < 1000
```

6ã€åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾æœ€é¢‘ç¹çš„å…ƒç´ 

```Python
test = [6, 2, 2, 3, 4, 2, 2, 90, 2, 41]
most_frequent = max(set(test), key=test.count)
```

7ã€åˆ—è¡¨è§£åŒ…

```Python
arr = [1, 2, 3]
a,b,c = arr
```

8ã€ä¸€è¡Œçš„ `if-else` è¯­å¥

```Python
age = 30
age_group = "Adult" if age > 18 else "Child"
```

9ã€åˆ—è¡¨æ¨å¯¼å¼

```Python
numbers = [1, 2, 3, 4, 5]
squared_numbers = [num * num for num in numbers]
```

10ã€ç®€åŒ– if è¯­å¥

```Python
if n == 0 or n == 1 or n == 2 or n == 3 or n == 4 or n == 5:
    pass

if n in [0, 1, 2, 3, 4, 5]:
    pass
```

é™¤äº†ç¬¬å…­ä¸ªæ˜¯æˆ‘æ²¡ç”¨è¿‡å¤–ï¼Œå…¶ä»–çš„éƒ½æ˜¯è€ç”Ÿå¸¸è°ˆçš„ä¸œè¥¿ï¼Œå°±è¿™ä¸œè¥¿è¿˜è¦ä¼šå‘˜ï¼Ÿ

### 2. [é€‚ç”¨äºæ—¥å¸¸ç¼–ç¨‹çš„ 11 ä¸ª Python å•è¡Œä»£ç ](https://betterprogramming.pub/11-python-one-liners-for-everyday-programming-f346a0a73f39)

1ã€åˆå¹¶å­—å…¸

æˆ‘ä¹‹å‰çœ‹åˆ°è¿‡è¿™ä¸ªä¾‹å­ï¼ŒPython 3.9 ä¹‹åæ‰æ”¯æŒ

```Python
dict1 = {'a': 1, 'b': 2}
dict2 = {'b': 3, 'c': 4, 'd': 5}
dict1 | dict2
# {'a': 1, 'b': 3, 'c': 4, 'd': 5}
```

2ã€è‡ªå®šä¹‰æ’åº

```Python
sorted([-5, -1, 2, 3, 4], key=lambda x: abs(x))
# [-1, 2, 3, 4, -5]
```

3ã€å°†åµŒå¥—åˆ—è¡¨å‹å¹³

```Python
nested_lists = [[1, 2], [3, 4, 5], [6]]
[item for inner_list in nested_lists for item in inner_list]
# [1, 2, 3, 4, 5, 6]
```

4ã€äº¤æ¢å˜é‡å€¼

```Python
a = 10
b = 20
a, b = b, a
```

5ã€ç»™å¤šä¸ªå˜é‡èµ‹å€¼

```Python
a, b, c = 10, False, 'Hello World'
```

6ã€æ‰“å¼€æ–‡ä»¶

```Python
with open('file.txt', 'r') as f:
    content = f.readlines()
```

7ã€æ ¼å¼åŒ–è¾“å‡º

```Python
n_processes = 1
f"{n_processes} process{' is' if n_processes == 1 else 'es are'} running"
# '1 process is running'
n_processes = 2
f"{n_processes} process{' is' if n_processes == 1 else 'es are'} running"
# '2 processes are running'
```

8ã€Lambda å‡½æ•°

```Python
circle_area = lambda r: math.pi * (r ** 2)
circle_area(10)
# 314.1592653589793
```

9ã€Map å‡½æ•°

```Python
nums = [1, 2, 3, 4, 5]
list(map(lambda n: n**2, nums))
# [1, 4, 9, 16, 25]
```

10ã€è®¡ç®—ç´¯ç§¯å’Œ

```Python
import itertools
list(itertools.accumulate([1, 2, 3, 4, 5]))
```

11ã€åˆ—è¡¨æ¨å¯¼å¼

```Python
numbers = [1, 2, 3, 4, 5]
[num for num in numbers if num > 3]
```

è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯ä¸€æ ·ï¼Œéƒ½æ˜¯äº›å¾ˆå¸¸è§çš„ä¸œè¥¿ï¼Œæ”¶åˆ°ä¸€èµ·å°±è¦å¼€ä¼šå‘˜äº†ï¼Œæ„Ÿè§‰è·Ÿ CSDN ä¹Ÿå·®ä¸å¤šå˜›ï¼Ÿ

### 3. [ä¸‰åˆ†é’Ÿç†è§£ Python çš„ Lambda è¡¨è¾¾å¼](https://betterprogramming.pub/understand-python-lambdas-in-3-minutes-8ce4997134fe)

è¿™ç¯‡æ–‡ç« å…¶å®å•¥éƒ½æ²¡è®²ï¼Œå¦‚æœçœŸå¥”ç€ç†è§£ Lambda è¡¨è¾¾å¼å»çœ‹å®ƒä¼šå‘ç°çœ‹å®Œæ ¹æœ¬æ²¡å•¥ç”¨ã€‚

åœ¨ Python ä¸­ Lambda å‡½æ•°å°±æ˜¯ä¸€ç§åŒ¿åå‡½æ•°ï¼Œå®ƒçš„è¯­æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯ç”¨èµ·æ¥å´å¯ä»¥èŠ±é‡Œèƒ¡å“¨çš„ã€‚

å¦‚ä¸‹ï¼Œå…³é”®å­— `lambda`ï¼Œå†’å·å‰é¢å°±æ˜¯ä¸€ç³»åˆ—çš„å‚æ•°ï¼Œåé¢å°±æ˜¯è¿”å›çš„ç»“æœ

```Python
lambda arguments : expression
```

```Python
(lambda x : x * x)(15.0) # returns 225.0
```

åˆæ˜¯ç¯‡åƒåœ¾ä¼šå‘˜æ–‡ç« ï¼Œæˆ‘å°±ä¸è¯¥ç‚¹è¿›å» :)

## tip [ğŸ”](#weekly-28)

### 1. Python async å¼‚æ­¥ç¼–ç¨‹

- ç¬”è®°ï¼š[python3-async-wupeiqi.ipynb](../code/python3-async-wupeiqi.ipynb)
- è®²å¸ˆï¼šæ­¦æ²›å¥‡
- è§†é¢‘é“¾æ¥ï¼šhttps://www.bilibili.com/video/BV1cK4y1E77y

æ„Ÿè§‰è®²å¾—æŒºä¸é”™çš„ï¼Œå¬ä¸‹æ¥å¯¹ Python å¼‚æ­¥ç¼–ç¨‹åˆæœ‰äº†æ›´æ·±çš„ç†è§£ã€‚

## share [ğŸ”](#weekly-28)

[readme](../README.md) | [previous](202105W1.md) | [next](202105W3.md)
