> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2024-04-21 - 2024-04-27

# Weekly #60

[readme](../README.md) | [previous](202404W3.md) | [next](202405W1.md)

![](../images/2024/04/blake-harbison-CDsrj_c0UP8-unsplash.jpg "Weekly #60")

\**Photo by [Blake Harbison](https://unsplash.com/@blake_harbison) on [Unsplash](https://unsplash.com/photos/an-airplane-flying-over-a-field-of-flowers-CDsrj_c0UP8)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
    - 新的实时动漫放大算法（Anime4k+potplayer）
    - ubuntu 内核编译教程－编译 linux4.10 内核
    - Windows 下 pandoc 转换 LaTex 成 Word 最全指令
- [share](#share-)

## algorithm [🔝](#weekly-60)

## review [🔝](#weekly-60)

## tip [🔝](#weekly-60)

### 1. [新的实时动漫放大算法（Anime4k+potplayer）](https://blog.csdn.net/hwoehn/article/details/102070395)

项目地址: https://github.com/bloc97/Anime4K

- 下载 Anime4K_HLSL.zip：
    - [nga](http://img.nga.178.com/attachments/mon_201908/22/-9lddQ5-6hamK7.zip?filename=Anime4K_HLSL.zip)
    - [本地](code/Anime4K_HLSL.zip)
- 把所有文件解压到 `C:\Program Files\DAUM\PotPlayer\PxShader` 目录下（安装目录可能不一样，自行更改）
- 打开 Potlplayer，右键视频区域 视频 -> 像素着色 -> 重载着色文件

> 见下图，前三步做的没有问题的话应该可以看见这些 `Anime4K_` 开头的项目

![](../images/2024/04/20191004142007551.png)

- 上一步菜单的最下方，点击 "组合编辑"，依次添加图中这几项之后确定，注意第三级菜单中要选择调整尺寸后的着色集

![](../images/2024/04/20191004142026673.png)

- 同样位置勾选 "组合"，这样应该就设置完成了

![](../images/2024/04/20191004142038724.png)

- 可以用 `Ctrl+Alt+P` 切换开关，如果设置成功的话画面应该有肉眼可见差别（或者你的网易云音乐突然开始放歌 jojo 立）

### 2. [ubuntu 内核编译教程－编译 linux4.10 内核](https://www.jianshu.com/p/5e37d91bfbbe)

1、环境准备

1. 准备 linux 源码和补丁

可在 [官网](http://www.kernel.org) 下载

```Bash
wget http://mirrors.aliyun.com/linux-kernel/v4.x/linux-4.5.tar.xz
wget http://mirrors.aliyun.com/linux-kernel/v4.x/patch-4.5.xz
```

2. 准备安装环境

首先执行 `apt update` 来更新软件源，然后安装需要的环境

```Bash
apt install kernel-package build-essential libncurses5-dev fakeroot
```

3. 解压缩内核

第一层解压

```Bash
xz -d linux-4.10.tar.xz
```

第二层解压

```Bash
tar –xvf linux-4.10.tar
```

解压后得到 linux.4.10，然后将内核目录 linux-4.10 复制到 `/usr/src`，然后进入 `/usr/src`

```Bash
sudo cp -r linux-4.10 /usr/src
cd /usr/src
```

![](../images/2024/04/4958474-3e3b1ed75fddba42.jpg)

2、准备编译

1. 编译配置

看以前的内核版本号，将里面的 `.config` 文件复制到 linux-4.10 文件夹中：

通过 ls 可以发现。我的内核文件夹是 `linux-headers-4.8-39-generic`，我们应当将这个文件夹中的 `.config` 文件复制到 4.10 文件夹中

```Bash
cp linux-headers-4.8.0-39-generic/.config linux-4.10/
cd linux-4.10
```

然后执行 `make menuconfig` 打开可视化菜单
选择 `load->OK->Save->OK->EXIT->EXIT`

![](../images/2024/04/4958474-fa495e4133ee8f6c.jpg)

3、编译内核

1. 编译启动映像

```Bash
make bzImage -j8
```

![](../images/2024/04/4958474-544e0b7bc6929718.png)

这里可能会出现两个错误：

```Bash
fatal error: openssl/opensslv.h: No such file or directory
```

这是因为没有安装 openssl 的，需要先安装 openssl: `apt-get install libssl-dev`

```Bash
bc: not found
```

需要安装 bc: `apt-get install bc`

安装对应依赖后再运行。

4、安装内核

先安装模块

```Bash
make modules_install
```

![](../images/2024/04/4958474-74f94a20f9c5c52d.png)

再安装内核

```Bash
make install
```

![](../images/2024/04/4958474-1119a9f6a4a48e35.png)

5、更改启动 grub

grub 就是系统启动的一个程序，若要运行编译好的内核，则需要修改相对应的 grub：

```Bash
mkiniramfs 4.10.0 -o /boot/inird.img-4.10
update-grub2
```

该命令会帮助我们自动修改 grub

修改之后，可以查看内核版本

```Bash
uname -a
```

> 以前在实验室这些步骤是非常熟悉了，但是几年后没接触，再看命令只是有点眼熟罢了

### 3. [Windows 下 pandoc 转换 LaTex 成 Word 最全指令](https://blog.csdn.net/qq_27464321/article/details/88853270)

1、pandoc 下载

- http://pandoc.org/installing.html
- [使用手册](https://www.pandoc.org/MANUAL.html)


2、转换方法

- 打开 windows 命令行窗口 `win+r -> cmd`
- 切换到工作目录： 使用 cd 命令切换到 Latex 文件所在的目录
- 基础转换命令: `pandoc input.tex -o output.docx`
    - input 是输入的文件名
    - output 是输出的文件名， 必须是 docx 后缀
- 图片的提取: 需要同时指定文件搜索目录和图片的目录。
    - `--extract-media=filename` 其中 filename 是 tex 源文件转换的目的文件的文件名。建议将要提取的图片都存于同一个文件夹下，图片只支持 jpg，png 等格式，对 pdf 不支持，需要先手动转换成 jpg

![](../images/2024/04/20200327101410152.png)

    - `--resource-path=.;path` 其中 `.` 表示当前工作目录，`;` 是 windows 系统的分隔符号（Linux/Unix/macOs 用 `:`），`path` 是图片目录的名字，这句表示将在当前工作目录的 path 文件下来搜素图片和其他资源。

![](../images/2024/04/20200327094528435.png)

- 参考文献的提取: `--bibliography=ref.bib`
    - ref.bib 是参考文献文件，放在跟 tex 文件一个目录下
- 交叉引用的提取: `--filter pandoc-crossref` 为了处理数字、方程式、表格和交叉引用的编号，有一个名为 pandoc-crossref 的文件管理器。
    - 对于 Windows 系统，需要下载 GitHub Repo 发布页面上提供的预构建好的 exe 文件。然后将可执行文件放在 Pandoc 的安装目录中
    - 【注意 pandoc-crossref 的版本必须与 pandoc 的版本匹配】

![](../images/2024/04/20200327104137138.png)

- 完整的转换命令: `pandoc input.tex --filter pandoc-crossref --extract-media=output --resource-path=.;path --bibliography=ref.bib -o output.docx`

3、注意

tex 源程序中部分函数可能不支持转换，比如 `\thanks {}` 相关的内容就无法转化，需要先对这部分进行屏蔽，才能转换成功。每次修改源程序 tex 文件后，需要重新编译后才能生效。

## share [🔝](#weekly-60)

[readme](../README.md) | [previous](202404W3.md) | [next](202405W1.md)
