> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-07-11 - 2021-07-17

# Weekly #37

[readme](../README.md) | [previous](202107W2.md) | [next](202107W4.md)

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
    - 使用 `trash-cli` 逃出 `rm` 命令误删除重要文件的阴影
- [share](#share-)

## algorithm [🔝](#weekly-37)

## review [🔝](#weekly-37)

## tip [🔝](#weekly-37)

### 1. [使用 `trash-cli` 逃出 `rm` 命令误删除重要文件的阴影](https://www.cnblogs.com/saneri/p/5239518.html)

作者：今天是一个难忘的日子，当时本来想清除我们公司网站 cms 目录下面一些 cdn 推送网页后残留的垃圾文件，结果在执行 `rm -rf conten*` 时打成了 `rm -rf conten *` 结果就悲剧了。

`trash-cli` 是一个使用 python 开发的软件包，包含 `trash-put`、`restore-trash`、`trash-list`、`trash-empty`、`trash-rm` 等命令，我们可以通过这些命令，将文件移动到回收站，或者还原删除了的文件。

`trash-cli` 的项目地址：https://github.com/andreafrancia/trash-cli

1、安装

`trash-cli` 的安装很简单


```Bash
cd /tmp
unzip trash-cli-master.zip
cd trash-cli-master
python setup.py install
```

或者：`yum install -y trash-cli` 安装，我当时 yum 安装没有成功，所有只能下载源码包安装了

安装成功后我们的系统就有了以下工具：

```Bash
ll /usr/bin/ | grep trash
-rwxr-xr-x  1 root root        123 3月   3 15:15 trash
-rwxr-xr-x  1 root root        125 3月   3 15:15 trash-empty
-rwxr-xr-x  1 root root        124 3月   3 15:15 trash-list
-rwxr-xr-x  1 root root        123 3月   3 15:15 trash-put
-rwxr-xr-x  1 root root        127 3月   3 15:15 trash-restore
-rwxr-xr-x  1 root root        122 3月   3 15:15 trash-rm
```

2、功能说明

命令概览：

```Bash
trash-put          将文件或目录移入回收站
trash-empty        清空回收站
trash-list         列出回收站中的文件
restore-trash      还原回收站中的文件
trash-rm           删除回首站中的单个文件
```

安装完毕之后我们可以通过一些配置，用它替代 `rm` 命令

我们在 `~/.bashrc` 文件中间加入

```bash
alias rm="trush-put"
```

完成后输入 `source ~/.bashrc` 使修改的别名生效

## share [🔝](#weekly-37)

[readme](../README.md) | [previous](202107W2.md) | [next](202107W4.md)
