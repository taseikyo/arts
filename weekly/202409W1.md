> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2024-09-01 - 2024-09-07

# Weekly #78

[readme](../README.md) | [previous](202408W5.md) | [next](202409W2.md)

![](../images/2024/09/eric-aiden-JTy9bt2418s-unsplash.jpg "Weekly #78")

\**Photo by [Eric Aiden](https://unsplash.com/@ericaiden) on [Unsplash](https://unsplash.com/photos/woman-in-front-of-aquarium-low-light-photography-JTy9bt2418s)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
	- C++ æ¨¡æ¿çš„åç‰¹åŒ–ä¸å…¨ç‰¹åŒ–
	- C++ æ¨¡æ¿çš„åç‰¹åŒ–ä¸å…¨ç‰¹åŒ–
	- C++ å­¦ä¹  `__attribute__((packed))` çš„ä½œç”¨
- [tip](#tip-)
	- çº¢å¶ä¹¦æ–‹å°è¯´ä¸‹è½½
- [share](#share-)
	- 21 å¤©æ•ˆåº”

## algorithm [ğŸ”](#weekly-78)

## review [ğŸ”](#weekly-78)

### 1. [C++ æ¨¡æ¿çš„åç‰¹åŒ–ä¸å…¨ç‰¹åŒ–](https://harttle.land/2015/10/03/cpp-template.html)

æ¨¡æ¿æœºåˆ¶ä¸º C++ æä¾›äº†æ³›å‹ç¼–ç¨‹çš„æ–¹å¼ï¼Œåœ¨å‡å°‘ä»£ç å†—ä½™çš„åŒæ—¶ä»ç„¶å¯ä»¥æä¾›ç±»å‹å®‰å…¨ã€‚ç‰¹åŒ–å¿…é¡»åœ¨åŒä¸€å‘½åç©ºé—´ä¸‹è¿›è¡Œï¼Œå¯ä»¥ç‰¹åŒ–ç±»æ¨¡æ¿ä¹Ÿå¯ä»¥ç‰¹åŒ–å‡½æ•°æ¨¡æ¿ï¼Œä½†ç±»æ¨¡æ¿å¯ä»¥åç‰¹åŒ–å’Œå…¨ç‰¹åŒ–ï¼Œè€Œå‡½æ•°æ¨¡æ¿åªèƒ½å…¨ç‰¹åŒ–ã€‚ æ¨¡æ¿å®ä¾‹åŒ–æ—¶ä¼šä¼˜å…ˆåŒ¹é…"æ¨¡æ¿å‚æ•°"æœ€ç›¸ç¬¦çš„é‚£ä¸ªç‰¹åŒ–ç‰ˆæœ¬ã€‚

1ã€æ¨¡æ¿çš„å£°æ˜

```C++
// ç±»æ¨¡æ¿
template <class T1, class T2>
class A{
    T1 data1;
    T2 data2;
};

// å‡½æ•°æ¨¡æ¿
template <class T>
T max(const T lhs, const T rhs){   
    return lhs > rhs ? lhs : rhs;
}
```

2ã€å…¨ç‰¹åŒ–

é€šè¿‡å…¨ç‰¹åŒ–ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªç‰¹å®šå‚æ•°é›†åˆè‡ªå®šä¹‰å½“å‰æ¨¡æ¿ï¼Œç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿éƒ½å¯ä»¥å…¨ç‰¹åŒ–ã€‚ å…¨ç‰¹åŒ–çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨åº”å½“æ˜¯ç©ºçš„ï¼Œå¹¶ä¸”åº”å½“ç»™å‡º"æ¨¡æ¿å®å‚"åˆ—è¡¨ï¼š

```C++
// å…¨ç‰¹åŒ–ç±»æ¨¡æ¿
template <>
class A<int, double>{
    int data1;
    double data2;
};

// å‡½æ•°æ¨¡æ¿
template <>
int max(const int lhs, const int rhs){   
    return lhs > rhs ? lhs : rhs;
}
```

æ³¨æ„ç±»æ¨¡æ¿çš„å…¨ç‰¹åŒ–æ—¶åœ¨ç±»ååç»™å‡ºäº†"æ¨¡æ¿å®å‚"ï¼Œä½†å‡½æ•°æ¨¡æ¿çš„å‡½æ•°ååæ²¡æœ‰ç»™å‡º"æ¨¡æ¿å®å‚"ã€‚ è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨æ ¹æ® `int max(const int, const int)` çš„å‡½æ•°ç­¾åå¯ä»¥æ¨å¯¼å‡ºæ¥å®ƒæ˜¯ `T max(const T, const T)` çš„ç‰¹åŒ–ã€‚

3ã€ç‰¹åŒ–çš„æ­§ä¹‰

ä¸Šè¿°å‡½æ•°æ¨¡æ¿ä¸éœ€æŒ‡å®š"æ¨¡æ¿å®å‚"æ˜¯å› ä¸ºç¼–è¯‘å™¨å¯ä»¥é€šè¿‡å‡½æ•°ç­¾åæ¥æ¨å¯¼ï¼Œä½†æœ‰æ—¶è¿™ä¸€è¿‡ç¨‹æ˜¯æœ‰æ­§ä¹‰çš„ï¼š

```C++
template <class T>
void f(){ T d; }

template <>
void f(){ int d; }
```

æ­¤æ—¶ç¼–è¯‘å™¨ä¸çŸ¥é“ `f()` æ˜¯ä» `f<T>()` ç‰¹åŒ–æ¥çš„ï¼Œç¼–è¯‘æ—¶ä¼šæœ‰é”™è¯¯ï¼š

```C++
error: no function template matches function template specialization 'f'
```

è¿™æ—¶æˆ‘ä»¬ä¾¿éœ€è¦æ˜¾å¼æŒ‡å®š"æ¨¡æ¿å®å‚"ï¼š

```C++
template <class T>
void f(){ T d; }

template <>
void f<int>(){ int d; }
```

4ã€åç‰¹åŒ–

ç±»ä¼¼äºå…¨ç‰¹åŒ–ï¼Œåç‰¹åŒ–ä¹Ÿæ˜¯ä¸ºäº†ç»™è‡ªå®šä¹‰ä¸€ä¸ªå‚æ•°é›†åˆçš„æ¨¡æ¿ï¼Œä½†åç‰¹åŒ–åçš„æ¨¡æ¿éœ€è¦è¿›ä¸€æ­¥çš„å®ä¾‹åŒ–æ‰èƒ½å½¢æˆç¡®å®šçš„ç­¾åã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯å‡½æ•°æ¨¡æ¿ä¸å…è®¸åç‰¹åŒ–ï¼Œè¿™ä¸€ç‚¹åœ¨ Effective C++: Item 25 ä¸­æœ‰æ›´è¯¦ç»†çš„è®¨è®ºã€‚ åç‰¹åŒ–ä¹Ÿæ˜¯ä»¥ template æ¥å£°æ˜çš„ï¼Œéœ€è¦ç»™å‡ºå‰©ä½™çš„"æ¨¡æ¿å½¢å‚"å’Œå¿…è¦çš„"æ¨¡æ¿å®å‚"ã€‚ä¾‹å¦‚ï¼š

```C++
template <class T2>
class A<int, T2>{
    ...
};
```

å‡½æ•°æ¨¡æ¿æ˜¯ä¸å…è®¸åç‰¹åŒ–çš„ï¼Œä¸‹é¢çš„å£°æ˜ä¼šç¼–è¯‘é”™ï¼š

```C++
template <class T1, class T2>
void f(){}

template <class T2>
void f<int, T2>(){}
```

ä½†å‡½æ•°å…è®¸é‡è½½ï¼Œå£°æ˜å¦ä¸€ä¸ªå‡½æ•°æ¨¡æ¿å³å¯æ›¿ä»£åç‰¹åŒ–çš„éœ€è¦ï¼š

```C++
template <class T2>
void f(){}              // æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰"æ¨¡æ¿å®å‚"
```

å¤šæ•°æƒ…å†µä¸‹å‡½æ•°æ¨¡æ¿é‡è½½å°±å¯ä»¥å®Œæˆå‡½æ•°åç‰¹åŒ–çš„éœ€è¦ï¼Œä¸€ä¸ªä¾‹å¤–ä¾¿æ˜¯ std å‘½åç©ºé—´ã€‚ std æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‘½åç©ºé—´ï¼Œç”¨æˆ·å¯ä»¥ç‰¹åŒ–å…¶ä¸­çš„æ¨¡æ¿ï¼Œä½†ä¸å…è®¸æ·»åŠ æ¨¡æ¿ï¼ˆå…¶å®ä»»ä½•å†…å®¹éƒ½æ˜¯ç¦æ­¢æ·»åŠ çš„ï¼‰ã€‚ å› æ­¤åœ¨ std ä¸­æ·»åŠ é‡è½½å‡½æ•°æ˜¯ä¸å…è®¸çš„ï¼Œåœ¨ Effective C++: Item 25 ä¸­ç»™å‡ºäº†ä¸€ä¸ªæ›´è¯¦ç»†çš„æ¡ˆä¾‹ã€‚

### 2. [C++ æ¨¡æ¿çš„åç‰¹åŒ–ä¸å…¨ç‰¹åŒ–](https://zhuanlan.zhihu.com/p/346400616)

æ¨¡æ¿å®šä¹‰ï¼šæ¨¡æ¿å°±æ˜¯å®ç°ä»£ç é‡ç”¨æœºåˆ¶çš„ä¸€ç§å·¥å…·ï¼Œå®ƒå¯ä»¥å®ç°ç±»å‹å‚æ•°åŒ–ï¼Œå³æŠŠç±»å‹å®šä¹‰ä¸ºå‚æ•°ï¼Œ ä»è€Œå®ç°äº†çœŸæ­£çš„ä»£ç å¯é‡ç”¨æ€§ã€‚æ¨¡ç‰ˆå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š

1. å‡½æ•°æ¨¡ç‰ˆ
2. ç±»æ¨¡ç‰ˆ

æ¨¡æ¿å®šä¹‰æœ¬èº«ä¸å‚ä¸ç¼–è¯‘ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨æ ¹æ®æ¨¡æ¿çš„ç”¨æˆ·ä½¿ç”¨æ¨¡æ¿æ—¶æä¾›çš„ç±»å‹å‚æ•°ç”Ÿæˆä»£ç ï¼Œå†è¿› è¡Œç¼–è¯‘ã€‚ç”¨æˆ·æä¾›ä¸åŒçš„ç±»å‹å‚æ•°ï¼Œå°±ä¼šå®ä¾‹åŒ–å‡ºä¸åŒçš„ä»£ç ã€‚

1ã€ç±»æ¨¡æ¿

ç±»æ¨¡æ¿æè¿°äº†ä¸€ç»„ç›¸å…³çš„ç±»æˆ–æ•°æ®ç±»å‹ï¼Œå®ƒä»¬åªèƒ½é€šè¿‡ç±»å‹æ¥åŒºåˆ†ï¼šæ•´æ•°å€¼ã€æŒ‡å‘ï¼ˆæˆ–å¼•ç”¨ï¼‰å…·æœ‰å…¨å±€é“¾æ¥çš„å˜é‡çš„æŒ‡é’ˆã€å…¶ä»–çš„ç»„åˆã€‚ç±»æ¨¡æ¿å°¤å…¶é€‚ç”¨äºæè¿°é€šç”¨ä½†ç±»å‹å®‰å…¨çš„æ•°æ®ç»“æ„ã€‚

ç±»æ¨¡æ¿ä½¿ç”¨ï¼š

```C++
template <ç±»å‹å½¢å¼å‚æ•°>
    class ç±»å
    {
     //ç±»å£°æ˜ä½“;
    };
    
    template <ç±»å‹å½¢å¼å‚æ•°>
    è¿”å›ç±»å‹ ç±»å <ç±»å‹> :: æˆå‘˜å‡½æ•°å1(å½¢å¼å‚æ•°)
    {
     //æˆå‘˜å‡½æ•°å®šä¹‰ä½“;
    }

    ... ...
    template <ç±»å‹å½¢å¼å‚æ•°>
    è¿”å›ç±»å‹ ç±»å <ç±»å‹> :: å‡½æ•°åN(å½¢å¼å‚æ•°)
    {
  //æˆå‘˜å‡½æ•°å®šä¹‰ä½“;
    }
```

```C++
#include <iostream>
using namespace std;
template<class T>
class Compare {
	public:
	 bool equal(T a,T b);
}
;
template<class T>
bool Compare<T>::equal(T a, T b) {
	return a == b;
}
int main() {
	Compare<int>C;
	C.equal(1,2);
	return 0;
}
```

ç±»æ¨¡æ¿å…¨ç‰¹åŒ–ï¼šé™å®šæ­»æ¨¡æ¿å®ç°çš„å…·ä½“ç±»å‹ï¼›

æ¯”å¦‚ä¸Šè¿°è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ¯”è¾ƒ int ç±»å‹è¿™ç§è¿˜å¯ä»¥ï¼Œä½†æ˜¯æ¯”è¾ƒ float è¿™ç§ç±»å‹å°±ä¸è¡Œï¼Œè¿™æ—¶å€™å°±éœ€è¦è¿›è¡Œæ¨¡æ¿ç‰¹åŒ–ï¼›

```C++
#include <iostream>
using namespace std;
template<class T>
class Compare {
	public:
	 bool equal(T a,T b);
}
;
template<class T>
bool Compare<T>::equal(T a, T b) {
	return a == b;
}
//æ¨¡æ¿å…¨ç‰¹åŒ–
template<>
class Compare<float> {
	public:
	 bool equal(float a, float b);
}
;
bool  Compare<float>::equal(float a, float b) {
	return std::abs(a - b) < 10e-3;
}
int main() {
	Compare<int>C;
	cout<<C.equal(1,2)<<endl;
	Compare<float>C2;
	cout<<C2.equal(1.001,1.001)<<endl;
	return 0;
}
```

ç±»æ¨¡æ¿åç‰¹åŒ–ï¼šæŒ‡æä¾›å¦ä¸€ä»½ template å®šä¹‰å¼ï¼Œè€Œå…¶æœ¬èº«ä»ä¸º templatizedï¼Œè¿™æ˜¯é’ˆå¯¹äº template å‚æ•°æ›´è¿›ä¸€æ­¥çš„æ¡ä»¶é™åˆ¶æ‰€è®¾è®¡å‡ºæ¥çš„ä¸€ä¸ªç‰¹åŒ–ç‰ˆæœ¬ã€‚ä¹Ÿå°±æ˜¯å¦‚æœè¿™ä¸ªæ¨¡æ¿æœ‰å¤šä¸ªç±»å‹ï¼Œé‚£ä¹ˆåªé™å®šå…¶ä¸­çš„ä¸€éƒ¨åˆ†;

```C++
#include <iostream>
using namespace std;
template<class T1,class T2>
class Test {
	public:
	 Test(T1 a, T2 b):_a(a),_b(b) {
		cout << "æ¨¡æ¿åŒ–" << endl;
	}
	private:
	T1 _a;
	T2 _b;
}
;
//æ¨¡æ¿å…¨ç‰¹åŒ–
template<>
class Test<int,int> {
	public:
	 Test(int a, int b) :_a(a), _b(b) {
		cout << "æ¨¡æ¿å…¨ç‰¹åŒ–" << endl;
	}
	private:
	int _a;
	int _b;
}
;
//æ¨¡æ¿åç‰¹åŒ–
template<class T>
class Test<int,T> {
	public:
	 Test(int a, T b) :_a(a), _b(b) {
		cout << "æ¨¡æ¿åç‰¹åŒ–" << endl;
	}
	private:
	int _a;
	T _b;
}
;
int main() {
	Test<double, double> t1(1.01, 1.01);
	Test<int, int> t2(1, 1);
	Test<int, char*> t3(1, "111");
	return 0;
}
```

2ã€å‡½æ•°æ¨¡æ¿

å‡½æ•°æ¨¡æ¿ä¸€èˆ¬å®šä¹‰ï¼š

```C++
template <ç±»å‹å½¢å¼å‚æ•°>      // ç±»å‹å½¢å¼å‚æ•°å³æ­¤æ ¼å¼ï¼š<typename  å½¢å¼å‚æ•°>  æˆ– <class å½¢å¼å‚æ•°>
è¿”å›ç±»å‹  å‡½æ•°å ï¼ˆå½¢å¼å‚æ•°ï¼‰
{
 //å‡½æ•°å®šä¹‰ä½“;
}
```

```C++
#include <iostream>
using namespace std;
//æ™®é€šæ¨¡æ¿
template<class T1,class T2>
bool Compare(T1 a, T2 b) {
	return a == b;
}
int main() {
	cout << Compare(1, 2) << endl;
	return 0;
}
```

å‡½æ•°æ¨¡æ¿ç‰¹åŒ–å’Œç±»æ¨¡æ¿ç‰¹åŒ–æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œæ˜¯å¯¹æ¨¡æ¿å‚æ•°çš„ç‰¹æ®ŠåŒ–å¤„ç†ï¼š

```C++
#include <iostream>
using namespace std;
//æ™®é€šæ¨¡æ¿
template<class T1,class T2>
bool Compare(T1 a, T2 b) {
	cout << "æ™®é€šæ¨¡æ¿" << endl;
	return a == b;
}
//å‡½æ•°æ¨¡æ¿ç‰¹åŒ–
template<>
bool Compare(const char* a, const char* b) {
	cout << "å‡½æ•°æ¨¡æ¿ç‰¹åŒ–" << endl;
	return strcmp(a,b) == 0;
}
int main() {
	cout << Compare(1, 2) << endl;
	cout << Compare("ab","ab") << endl;
	return 0;
}
```

æ€»ç»“

- å‡½æ•°æ¨¡æ¿åªæœ‰ç‰¹åŒ–ï¼Œæ²¡æœ‰åç‰¹åŒ–ï¼›
- æ¨¡æ¿ã€æ¨¡æ¿çš„ç‰¹åŒ–å’Œæ¨¡æ¿çš„åç‰¹åŒ–éƒ½å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡ŒåŒ¹é…ï¼Œä¼˜å…ˆç‰¹æ®Šçš„ï¼›
- æ¨¡æ¿å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼›å› ä¸ºæ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»å…·æœ‰ä¸€ä¸ª virtual table, åŒ…å«è¯¥ç±»çš„æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ï¼Œå› æ­¤ vtable çš„å¤§å°æ˜¯ç¡®å®šçš„ã€‚æ¨¡æ¿åªæœ‰è¢«ä½¿ç”¨æ—¶æ‰ä¼šè¢«å®ä¾‹åŒ–ï¼Œå°†å…¶å£°æ˜ä¸ºè™šå‡½æ•°ä¼šä½¿ vtable çš„å¤§å°ä¸ç¡®å®šã€‚æ‰€ä»¥ï¼Œæˆå‘˜å‡½æ•°æ¨¡æ¿ä¸èƒ½ä¸ºè™šå‡½æ•°ã€‚

### 3. [C++ å­¦ä¹  `__attribute__((packed))` çš„ä½œç”¨](https://blog.csdn.net/skdkjzz/article/details/43852785)

æœ€è¿‘åœ¨çœ‹æˆ‘ä»¬çš„ä»£ç çš„æ—¶å€™å‘ç°å£°æ˜ç±»å‹çš„æ—¶å€™æœ‰ `__attribute__((packed))`çš„ç»“æ„ä½“ç±»å‹å£°æ˜ï¼Œå¦‚ä¸‹ï¼š

```C++
typedef struct Student {
	int SID;
	char SName;
}__attribute__((packed)) Sinfo;
```

ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ï¼ŒæŸ¥äº†ä¸‹çŸ¥é“æ˜¯å¦‚ä¸‹å«ä¹‰ï¼š

1. `__attribute__((packed))`  çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå–æ¶ˆç»“æ„åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¼˜åŒ–å¯¹é½ï¼ŒæŒ‰ç…§å®é™…å ç”¨å­—èŠ‚æ•°è¿›è¡Œå¯¹é½ï¼Œæ˜¯ GCC ç‰¹æœ‰çš„è¯­æ³•ã€‚è¿™ä¸ªåŠŸèƒ½æ˜¯è·Ÿæ“ä½œç³»ç»Ÿæ²¡å…³ç³»ï¼Œè·Ÿç¼–è¯‘å™¨æœ‰å…³ï¼ŒGCC ç¼–è¯‘å™¨ä¸æ˜¯ç´§å‡‘æ¨¡å¼çš„ã€‚åœ¨ windows ä¸‹ç”¨ vc çš„ç¼–è¯‘å™¨ä¹Ÿä¸æ˜¯ç´§å‡‘çš„ï¼Œç”¨ tc çš„ç¼–è¯‘å™¨å°±æ˜¯ç´§å‡‘çš„ã€‚ä¾‹å¦‚ï¼š

- åœ¨ TC ä¸‹ï¼š`struct my{char ch; int a;} sizeof(int)=2;sizeof(my)=3;`ï¼ˆç´§å‡‘æ¨¡å¼ï¼‰
- åœ¨ GCC ä¸‹ï¼š`struct my{char ch; int a;} sizeof(int)=4;sizeof(my)=8;`ï¼ˆéç´§å‡‘æ¨¡å¼ï¼‰
- åœ¨ GCC ä¸‹ï¼š`struct my{char ch; int a;}__attrubte__((packed)) sizeof(int)=4;sizeof(my)=5`

2. `__attribute__` å…³é”®å­—ä¸»è¦æ˜¯ç”¨æ¥åœ¨å‡½æ•°æˆ–æ•°æ®å£°æ˜ä¸­è®¾ç½®å…¶å±æ€§ã€‚ç»™å‡½æ•°èµ‹ç»™å±æ€§çš„ä¸»è¦ç›®çš„åœ¨äºè®©ç¼–è¯‘å™¨è¿›è¡Œä¼˜åŒ–ã€‚å‡½æ•°å£°æ˜ä¸­çš„ `__attribute__((packed))`ï¼Œå°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°ä¸ä¼šè¿”å›ç»™è°ƒç”¨è€…ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨åœ¨ä¼˜åŒ–æ—¶å»æ‰ä¸å¿…è¦çš„å‡½æ•°è¿”å›ä»£ç ã€‚

GNU C çš„ä¸€å¤§ç‰¹è‰²å°±æ˜¯ `__attribute__` æœºåˆ¶ã€‚`__attribute__` å¯ä»¥è®¾ç½®å‡½æ•°å±æ€§ï¼ˆFunction Attributeï¼‰ã€å˜é‡å±æ€§ï¼ˆVariable Attributeï¼‰å’Œç±»å‹å±æ€§ï¼ˆType Attributeï¼‰ã€‚

## tip [ğŸ”](#weekly-78)

### 1. [çº¢å¶ä¹¦æ–‹å°è¯´ä¸‹è½½](../code/hongyebookzhai/README.md	)

å®ç°äº†ä¸¤ç§æ–¹å¼ä¸‹è½½ï¼ˆ[book.py](../code/hongyebookzhai/book.py)ï¼‰ï¼š

- ä¸²è¡Œä¸‹è½½ï¼ˆparse_seriesï¼‰ï¼Œå…¥å‚æ˜¯é¦–ç« çš„é“¾æ¥ï¼Œä¿å­˜æ¯ç« å°è¯´åˆ° text ç›®å½•ä¸‹ã€‚è¿™æ˜¯ç¬¬ä¸€æ³¢è¯•æ°´çš„ï¼Œæ‰§è¡Œæµç¨‹æ˜¯åŸºäºå½“å‰ç« èŠ‚çš„é“¾æ¥è·å–æœ¬ç« èŠ‚çš„æ–‡æœ¬ä»¥åŠä¸‹ä¸€ç« çš„é“¾æ¥ï¼Œç„¶åä¸€è·¯çˆ¬ä¸‹å»ï¼Œæ•ˆç‡è¾ƒä½ã€‚
- å¹¶è¡Œä¸‹è½½ï¼ˆparse_parallelï¼‰ï¼Œå…¥å‚æ˜¯å°è¯´ IDï¼Œä¿å­˜æ¯ç« å°è¯´åˆ°æ­¤ ID ç›®å½•ä¸‹ã€‚ä¸»è¦æµç¨‹æ˜¯ä»å°è¯´çš„é¦–é¡µç« èŠ‚ç›®å½•è¡¨è·å–æ‰€æœ‰ç« èŠ‚çš„é“¾æ¥ï¼Œç„¶ååŸºäºè®¾å®šçš„ THREAD_COUNT å»å¹¶å‘ä¸‹è½½ã€‚

[åˆå¹¶](../code/hongyebookzhai/merge.sh) å°±å¾ˆç®€å•äº†ï¼Œå°†å¯¹åº”å°è¯´ç›®å½•ä¸‹æ‰€æœ‰ç« èŠ‚åˆå¹¶ï¼Œå†™å…¥ç« èŠ‚åå’Œç« èŠ‚å°è¯´ï¼Œæœ€åè¾“å‡ºåˆå¹¶åçš„å°è¯´ã€‚

## share [ğŸ”](#weekly-78)

### 1. [21 å¤©æ•ˆåº”](https://wiki.mbalib.com/wiki/21%E5%A4%A9%E6%95%88%E5%BA%94)

1ã€ä»€ä¹ˆæ˜¯ 21 å¤©æ•ˆåº”

åœ¨è¡Œä¸ºå¿ƒç†å­¦ä¸­ï¼Œäººä»¬æŠŠä¸€ä¸ªäººçš„æ–°ä¹ æƒ¯æˆ–æ–°ç†å¿µçš„å½¢æˆå¹¶å¾—ä»¥å·©å›ºè‡³å°‘éœ€è¦21å¤©çš„ç°è±¡ï¼Œç§°ä¹‹ä¸º21å¤©æ•ˆåº”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªäººçš„åŠ¨ä½œæˆ–æƒ³æ³•ï¼Œå¦‚æœé‡å¤21å¤©å°±ä¼šå˜æˆä¸€ä¸ªä¹ æƒ¯æ€§çš„åŠ¨ä½œæˆ–æƒ³æ³•ã€‚

æ ¹æ®æˆ‘å›½æˆåŠŸå­¦ä¸“å®¶æ˜“å‘ä¹…ç ”ç©¶ï¼Œä¹ æƒ¯çš„å½¢æˆå¤§è‡´åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š

- ç¬¬ä¸€é˜¶æ®µï¼š1-7å¤©å·¦å³ã€‚æ­¤é˜¶æ®µè¡¨ç°ä¸ºâ€œåˆ»æ„ï¼Œä¸è‡ªç„¶â€ï¼Œéœ€è¦ååˆ†åˆ»æ„åœ°æé†’è‡ªå·±ã€‚
- ç¬¬äºŒé˜¶æ®µï¼š7-21å¤©å·¦å³ã€‚æ­¤é˜¶æ®µè¡¨ç°ä¸ºâ€œåˆ»æ„ï¼Œè‡ªç„¶â€ï¼Œä½†è¿˜éœ€è¦æ„è¯†æ§åˆ¶ã€‚
- ç¬¬ä¸‰é˜¶æ®µï¼š21-90å¤©å·¦å³ã€‚æ­¤é˜¶æ®µè¡¨ç°ä¸ºâ€œä¸ç»æ„ï¼Œè‡ªç„¶â€ï¼Œæ— éœ€æ„è¯†æ§åˆ¶ã€‚

2ã€21 å¤©æ•ˆåº”çš„äº§ç”ŸåŸå› 

ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿ21å¤©æ•ˆåº”å‘¢ï¼Ÿå…¶ä¸»è¦åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå½±å“å®ƒçš„å› ç´ æœ‰å“ªäº›ï¼Ÿæ®ç ”ç©¶å‘ç°ï¼Œå½±å“21å¤©æ•ˆåº”çš„ä¸»è¦å› ç´ æœ‰å¦‚ä¸‹æ–¹é¢ï¼š

ä¸€æ˜¯æ—§ä¹ æƒ¯ã€æ—§ç†å¿µå¯¹æ–°ä¹ æƒ¯ã€æ–°ç†å¿µå½¢æˆçš„å¹²æ‰°ã€‚å½“ä¸¤ç§ä¹ æƒ¯ã€ç†å¿µåœ¨å½¢å¼ä¸Šæœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œä½†å…¶ä¸­æŸäº›å› ç´ éƒ½è¦æ±‚ç›¸åçš„å†…å®¹æ—¶ï¼Œå°±ä¼šå‘ç”Ÿå¹²æ‰°ã€‚ä¾‹å¦‚æ•™ä¹¦è‚²äººä¸å¯¼å­¦è‚²äººä¸¤è€…å…·æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œéƒ½æ˜¯è¦æ±‚æ•™å¸ˆåšå‡ºè‚²äººçš„ç†å¿µä¸è¡Œä¸ºï¼Œä½†æ•™ä¹¦ä¸å¯¼å­¦çš„è‚²äººæ‰‹æ®µæœ‰è¾ƒå¤§å·®å¼‚ï¼Œç”šè‡³æœ‰æœ¬è´¨å·®å¼‚ï¼Œå› æ­¤ï¼Œè¦å½¢æˆå¯¼å­¦è‚²äººçš„æ–°ç†å¿µä¸ä¹ æƒ¯å¸¸ä¼šå—åˆ°æ•™ä¹¦è‚²äººçš„å½±å“å’Œå¹²æ‰°ã€‚å®è·µè¡¨æ˜ï¼Œæ—§ä¹ æƒ¯ã€æ—§ç†å¿µè¶Šæ˜¯å·©å›ºï¼Œæ–°ä¹ æƒ¯ã€æ–°ç†å¿µçš„å½¢æˆå°±è¶Šå®¹æ˜“å—åˆ°å¹²æ‰°ã€‚å› æ­¤ï¼Œåœ¨æ—§ä¹ æƒ¯ã€æ—§ç†å¿µå¹²æ‰°ä¸‹å­¦ä¹ ä¸€ç§æ–°ä¹ æƒ¯æˆ–æ–°ç†å¿µï¼Œå°±ä¼šæ—¶å¸¸å‡ºç°æŸäº›é¡½å›ºæ€§çš„é”™è¯¯ã€‚è¿™äº›é”™è¯¯æ¥è‡ªæ—§ä¹ æƒ¯ã€æ—§ç†å¿µä¸­çš„æˆåˆ†ã€‚å¯è§ï¼Œä¸€ä¸ªæ–°ç†å¿µæˆ–æ–°ä¹ æƒ¯çš„å½¢æˆéœ€è¦21å¤©ï¼ˆæˆ–é‡å¤21æ¬¡ï¼‰ï¼Œæ˜¯ä¸æ—§ä¹ æƒ¯ã€æ—§ç†å¿µçš„å¹²æ‰°æœ‰å¯†åˆ‡å…³ç³»çš„ï¼Œè¿™ä¹Ÿå¯ä»¥è¯´æ˜¯äº§ç”Ÿ21å¤©æ•ˆåº”çš„ä¸»è¦å½±å“å› ç´ ã€‚

äºŒæ˜¯ç†å¿µä¸ä¹ æƒ¯çš„å½¢æˆéœ€è¦ä¸€ä¸ªè¿‡ç¨‹ã€‚è¿™ä¸€ç‚¹å‰é¢å·²ç»è°ˆåŠï¼Œæ®æ˜“å‘ä¹…çš„ç ”ç©¶ï¼Œå®ƒéœ€è¦ä¸‰ä¸ªé˜¶æ®µæ‰èƒ½å½¢æˆã€‚å¦‚ç”¨ç¾å›½å‡¯å°”æ›¼ï¼ˆ1961ï¼‰çš„ç ”ç©¶ï¼Œå®ƒä¹Ÿéœ€ç»ä¸‰ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µï¼Œé¡ºä»ã€‚å³è¡¨é¢æ¥çº³æ–°ç†å¿µã€æˆ–å¼€å§‹æ–°ä¹ æƒ¯ï¼Œåœ¨å¤–æ˜¾è¡Œä¸ºä¸Šè¡¨ç°å‡ºå°½é‡ä¸æ–°çš„è¦æ±‚ä¸€æ ·ï¼Œè€Œåœ¨å®è´¨ä¸Šæœªå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚æ­¤æ—¶ï¼Œæœ€æ˜“å—åˆ°å¤–éƒ¨å¥–åŠ±å’Œæƒ©ç½šçš„å½±å“ï¼Œå› ä¸ºé¡ºä»å¯è·å¾—å¥–åŠ±ï¼Œä¸é¡ºä»å°±ä¼šé­åˆ°æƒ©ç½šã€‚å¯è§ï¼Œæ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½¢æˆä¸€å¼€å§‹å¤šæ•°æ˜¯å—åˆ°å¤–åœ¨å‹åŠ›å½±å“è€Œäº§ç”Ÿçš„ï¼Œè‡ªå‘çš„æ˜¯æä¸ºå°‘è§çš„ã€‚ç¬¬äºŒé˜¶æ®µï¼Œè®¤åŒã€‚è®¤åŒæ˜¯åœ¨å¿ƒç†ä¸­ä¸»åŠ¨æ¥çº³æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½±å“ï¼Œæ¯”é¡ºä»æ›´æ·±å…¥ä¸€å±‚ï¼Œå› æ­¤ï¼Œæ­¤æ—¶æ„è¯†æˆåˆ†æ›´åŠ æµ“åšï¼Œä¸å†æ˜¯è¢«åŠ¨çš„æ— å¥ˆçš„ï¼Œè€Œæ˜¯ä¸»åŠ¨åœ°ã€æœ‰æ„è¯†åœ°åŠ ä»¥å˜åŒ–ï¼Œä½¿è‡ªå·±å°½å¯èƒ½æ¥è¿‘æ–°ç†å¿µã€æ–°ä¹ æƒ¯ã€‚ç¬¬ä¸‰é˜¶æ®µï¼Œå†…åŒ–ã€‚æ­¤æ—¶æ–°ç†å¿µã€æ–°ä¹ æƒ¯å·²å®Œå…¨èäºè‡ªèº«ä¹‹ä¸­ï¼Œæ— ä»»ä½•ä¸é€‚ä¹‹å¤„ï¼Œå·²å½»åº•å‘æŒ¥æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„ä½œç”¨ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè¿™ä¸‰ä¸ªé˜¶æ®µå¯¹éç‰¹å¼‚çš„ç†å¿µã€ä¹ æƒ¯åªéœ€21å¤©ä¾¿å¯å½¢æˆï¼Œè¿™æ˜¯å¤§é‡å®éªŒä¸å®è·µçš„ç»“æœã€‚

ä¸‰æ˜¯æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½¢æˆéœ€è¦ä¸æ–­åœ°é‡å¤ï¼Œå³ä½¿ç®€å•çš„ä¸æ–­é‡å¤ä¹Ÿæ˜¯ååˆ†æœ‰æ•ˆçš„ã€‚ 21 å¤©æ•ˆåº”ä¸æ˜¯è¯´ï¼Œä¸€ä¸ªæ–°ç†å¿µã€æ–°ä¹ æƒ¯åªè¦ç»è¿‡ 21 å¤©ä¾¿å¯å½¢æˆï¼Œè€Œæ˜¯21å¤©ä¸­è¿™ä¸€æ–°ç†å¿µã€æ–°ä¹ æƒ¯è¦ä¸æ–­åœ°é‡å¤æ‰èƒ½äº§ç”Ÿæ•ˆåº”ã€‚è¿™ä¹Ÿæ˜¯ç°åœ¨è®¸å¤šå¹¿å‘Šä¸æ–­æ’­æŠ¥çš„åŸå› æ‰€åœ¨ã€‚

å½“ç„¶ï¼Œè¿™é‡Œæ‰€è®²çš„21å¤©æ˜¯å¯¹æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„ä¸­ç­‰ç¨‹åº¦è€Œè¨€çš„ï¼Œå¼ºåº¦ä½çš„ã€ç®€å•çš„æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½¢æˆå°±å¯èƒ½ä¼šå½¢æˆçš„å¿«ä¸€äº›ï¼Œå¼ºåº¦å¤§çš„ã€å¤æ‚çš„æ–°ç†å¿µã€æ–°ä¹ æƒ¯å°±å¯èƒ½å½¢æˆçš„æ…¢ä¸€äº›ï¼Œè¿™äº›éƒ½æœ‰å¾…äºè¿›ä¸€æ­¥æ·±å…¥ç ”ç©¶ã€‚æ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„æ€§è´¨å¯¹å½¢æˆçš„æ—¶é—´æ¥è¯´ä¹Ÿå¯èƒ½ä¼šæœ‰å½±å“ã€‚ä½†ç›®å‰å°šä¸çŸ¥å½±å“æœ‰å¤šå¤§ï¼Œä¹Ÿéœ€æ·±å…¥æ¢è®¨ã€‚

æ­¤å¤–ï¼Œæ—§ç†å¿µã€æ—§ä¹ æƒ¯çš„æ”¹å˜æˆ–æ¶ˆé€€æ˜¯å¦ä¹Ÿå¦‚åŒæ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½¢æˆå‘¢ï¼Ÿå…¶æœºç†æ˜¯å¦ä¸€è‡´ï¼Ÿå°šä¸å¾—çŸ¥ã€‚ä½†æœ‰ä¸€ç‚¹æ˜¯æ˜ç¡®çš„ï¼Œå¦‚æœè¿™ä¸€æ—§ç†å¿µã€æ—§ä¹ æƒ¯å°±æ˜¯æˆ‘ä»¬æƒ³è¦æ”¹å˜æˆæ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„ï¼Œä¹Ÿå°±æ˜¯ä¸¤è€…çš„å…³ç³»æ˜¯å¯†åˆ‡ç›¸å…³çš„ï¼Œåº”è¯¥è¯´å®ƒä»¬æ˜¯åŒæ­¥çš„ï¼Œç«‹çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç ´çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ ·éœ€è¦21å¤©æ‰ä¼šäº§ç”Ÿæ•ˆåº”ã€‚

21å¤©æ•ˆåº”å¯¹å­¦æ ¡å¯¼å­¦è‚²äººæ¥è¯´ï¼Œå®åœ¨æ˜¯å¤ªé‡è¦äº†ã€‚ç°åœ¨å­¦ç”Ÿçš„è®¸å¤šä¸è‰¯è¡Œä¸ºä¹ æƒ¯ã€ä¸è‰¯é”™è¯¯è§‚å¿µéš¾ä»¥æ”¹å˜ï¼Œæ–°ç†å¿µã€æ–°ä¹ æƒ¯éš¾ä»¥å½¢æˆï¼Œä¸æˆ‘ä»¬æ²¡æœ‰æŒ‰ç…§21å¤©æ•ˆåº”çš„è§„å¾‹åŠäº‹å¾ˆæœ‰å…³ç³»ã€‚å› æ­¤ï¼Œå­¦æ ¡æ•™å¸ˆè¦ç§¯æåº”ç”¨è¿™ä¸€è§„å¾‹ï¼Œä¸‹åˆ—æ˜¯åº”ç”¨æ—¶å°šéœ€æ³¨æ„çš„å¯¹ç­–ï¼š

é¦–å…ˆï¼Œå­¦æ ¡æ•™å¸ˆè¦çŸ¥é“ä¹ æƒ¯ã€ç†å¿µå…·æœ‰å·¨å¤§çš„ä½œç”¨ã€‚ **è¡Œä¸ºç§‘å­¦ç ”ç©¶è¡¨æ˜ï¼Œä¸€ä¸ªäººä¸€å¤©çš„è¡Œä¸ºä¸­å¤§çº¦åªæœ‰ 5% æ˜¯éç†å¿µè¡Œä¸ºï¼Œå±äºéä¹ æƒ¯çš„è¡Œä¸ºï¼Œè€Œå‰©ä¸‹çš„95%çš„è¡Œä¸ºéƒ½å—ç†å¿µæ”¯é…ï¼Œéƒ½å±ä¹ æƒ¯æ€§çš„è¡Œä¸ºã€‚** ç”±æ­¤å¯è§ï¼Œç†å¿µã€ä¹ æƒ¯åœ¨ä¸€ä¸ªäººè¡Œä¸ºä¸­çš„ä½œç”¨æ˜¯å·¨å¤§çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæˆåŠŸçš„åŠ›é‡æ‰€åœ¨ã€‚å› æ­¤ï¼Œå½¢æˆè‰¯å¥½çš„æ–°ç†å¿µã€æ–°ä¹ æƒ¯å°±æ˜¾å¾—æ ¼å¤–é‡è¦ï¼Œåƒä¸‡ä¸è¦å¿½è§†ç†å¿µã€ä¹ æƒ¯çš„ä½œç”¨ã€‚

å…¶æ¬¡ï¼Œå­¦æ ¡æ•™å¸ˆè¦ç›¸ä¿¡ç†å¿µã€ä¹ æƒ¯æ˜¯å¯ä»¥æ”¹å˜çš„æ˜¯å¯ä»¥å½¢æˆçš„ã€‚æˆ‘ä»¬å­¦æ ¡æ•™å¸ˆä¸­å¸¸æœ‰äººå¦‚æ­¤æ„Ÿå¹ï¼šâ€œæœ½æœ¨ä¸å¯é›•ä¹Ÿâ€ï¼Œä¹Ÿå¸¸æœ‰â€œæ¨é“ä¸æˆé’¢â€çš„æƒ³æ³•ã€‚å¤§é‡å®éªŒä¸å®è·µè¯æ˜ï¼Œåªè¦ä¸æ–­é‡å¤ï¼Œä¹ æƒ¯ã€ç†å¿µæ˜¯å¯ä»¥æ”¹å˜çš„ã€‚å½“ç„¶ï¼Œæ”¹å˜ç†å¿µã€æ”¹å˜ä¹ æƒ¯ä¼šæ˜¯ä¸€ä¸ªæä¸èˆ’æœã€æä¸æƒ…æ„¿çš„äº‹ã€‚ä½†ä¸ç®¡æ€ä¹ˆè¯´ï¼Œ **äººçš„è¡Œä¸ºæ˜¯æŒ‰ç†å¿µã€ä¹ æƒ¯è¡Œäº‹çš„ï¼Œä¸è‰¯çš„ç†å¿µã€ä¹ æƒ¯ä¸æ”¹å˜ï¼Œå°±å¯èƒ½äº§ç”Ÿä¸è‰¯çš„è¡Œä¸ºï¼Œå…¶åæœå½“ç„¶æ˜¯ä¸å¥½çš„ã€‚å› æ­¤ï¼Œåœ¨æ”¹å˜ç†å¿µã€ä¹ æƒ¯æ—¶ï¼Œä¸èƒ½å› ä¸æƒ…æ„¿ä¸èˆ’æœå°±æ”¾å¼ƒï¼Œå¿…è¦æ—¶è¿˜è¦ç»™äºˆå¤–åœ¨å‹åŠ›ï¼Œç‰¹åˆ«æ˜¯åˆšå¼€å§‹æ—¶æ›´éœ€å¦‚æ­¤ã€‚** ä¿—è¯è¯´å¾—å¥½ï¼šâ€œä¸‡äº‹å¼€å¤´éš¾â€ï¼Œè¿™ä¸€ç‚®ä¸æ‰“å“ï¼Œåç»­æ”¹å˜å°±ä¸å¯èƒ½ã€‚å› æ­¤ï¼Œè¦è®°ä½æ”¹å˜ä»»ä½•ä¸€ä¸ªç†å¿µã€ä¹ æƒ¯æ—¶éƒ½è¦ä¸æ–­é‡å¤ï¼Œç›´è‡³21å¤©ï¼Œç”šè‡³21å¤©ä»¥ä¸Šã€‚ç›¸ä¿¡ï¼Œæ²¡æœ‰æ”¹å˜ä¸äº†çš„ç†å¿µå’Œä¹ æƒ¯ã€‚å¦åˆ™ï¼Œå°±æ„å‘³ç€å¤±è´¥çš„æ¥ä¸´ã€‚

ç¬¬ä¸‰ï¼Œå­¦æ ¡æ•™å¸ˆåœ¨æ”¹å˜å­¦ç”Ÿçš„ç†å¿µã€ä¹ æƒ¯æ—¶ï¼Œä¸€å®šè¦éµå¾ª 21 å¤©æ•ˆåº”çš„è§„å¾‹ï¼Œä¸èƒ½ç›²å¹²ã€‚å› æ­¤ï¼Œä¸‹åˆ—ä¸‰ç‚¹å°šéœ€å¼•èµ·é‡è§†ã€‚ä¸€æ˜¯è¦æŒ‰ç…§ä¸‰é˜¶æ®µçš„å½¢æˆç‰¹ç‚¹è¿›è¡Œç†å¿µã€ä¹ æƒ¯çš„æ”¹å˜å·¥ä½œï¼›äºŒæ˜¯è¦æœ‰è€å¿ƒï¼Œæ–°ç†å¿µã€æ–°ä¹ æƒ¯çš„å½¢æˆéœ€è¦21å¤©ï¼Œç”šè‡³æ›´å¤šå¤©ï¼›ä¸‰æ˜¯åœ¨è¿™21å¤©é‡Œéœ€è¦ä¸æ–­åœ°é‡å¤ç»ƒä¹ ï¼Œä¸ä¹ ä¸å¾—ã€‚

[readme](../README.md) | [previous](202408W5.md) | [next](202409W2.md)
