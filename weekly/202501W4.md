> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2025-01-19 - 2025-01-25

# Weekly #98

[readme](../README.md) | [previous](202501W3.md) | [next](202501W5.md)

![](../images/2025/01/shin-shimami-rAqM0dye4nM-unsplash.jpg "Weekly #98")

\**Photo by [Shin Shimami](https://unsplash.com/@shimami) on [Unsplash](https://unsplash.com/photos/a-woman-laying-on-top-of-a-bed-in-a-black-bra-rAqM0dye4nM)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
	- c++ä¸Python3äº’ç›¸è°ƒç”¨
	- Markdownæ’å…¥å›¾ç‰‡ï¼šæœ¬åœ°å›¾ç‰‡ã€ç½‘ç»œå›¾ç‰‡å’ŒBase64çš„è¯¦ç»†ç¤ºä¾‹
- [share](#share-)
	- ç”± Flappy Bird æƒ³åˆ°çš„æŠ€æœ¯è§‚ã€å“²å­¦è§‚å’Œäººç”Ÿè§‚

## algorithm [ğŸ”](#weekly-98)

## review [ğŸ”](#weekly-98)

## tip [ğŸ”](#weekly-98)

### 1. [c++ä¸Python3äº’ç›¸è°ƒç”¨](https://blog.csdn.net/cparent/article/details/9126587)

```C
#include <Python.h>
#include <string>
#include <codecvt>
int main(int argc, char** argv) {
	// åˆå§‹åŒ–Python
	//åœ¨ä½¿ç”¨Pythonç³»ç»Ÿå‰ï¼Œå¿…é¡»ä½¿ç”¨Py_Initializeå¯¹å…¶
	//è¿›è¡Œåˆå§‹åŒ–ã€‚å®ƒä¼šè½½å…¥Pythonçš„å†…å»ºæ¨¡å—å¹¶æ·»åŠ ç³»ç»Ÿè·¯
	//å¾„åˆ°æ¨¡å—æœç´¢è·¯å¾„ä¸­ã€‚è¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œæ£€æŸ¥ç³»ç»Ÿ
	//æ˜¯å¦åˆå§‹åŒ–æˆåŠŸéœ€è¦ä½¿ç”¨Py_IsInitializedã€‚

	Py_Initialize();

	// æ£€æŸ¥åˆå§‹åŒ–æ˜¯å¦æˆåŠŸ
	if (!Py_IsInitialized()) {
	return -1;
	}

	// æ·»åŠ å½“å‰è·¯å¾„
	//æŠŠè¾“å…¥çš„å­—ç¬¦ä¸²ä½œä¸ºPythonä»£ç ç›´æ¥è¿è¡Œï¼Œè¿”å›0
	//è¡¨ç¤ºæˆåŠŸï¼Œ-1è¡¨ç¤ºæœ‰é”™ã€‚å¤§å¤šæ—¶å€™é”™è¯¯éƒ½æ˜¯å› ä¸ºå­—ç¬¦ä¸²
	//ä¸­æœ‰è¯­æ³•é”™è¯¯ã€‚
	PyRun_SimpleString("print(4+5)");
	PyRun_SimpleString("import sys");
	PyRun_SimpleString("sys.path.append('G:/pythonProject')");
	PyObject *pName, *pModule, *pDict, *pFunc, *pArgs, *pValue;

	std::wstring str = L"pytest";

	std::wstring_convert<std::codecvt_utf8<wchar_t>> conv;

	std::string sr = conv.to_bytes(str);
	// è½½å…¥åä¸ºpytestçš„è„šæœ¬
	pName = PyUnicode_FromUnicode(str.c_str(), str.size());

	// pName = PyString_FromString("pytest");
	pModule = PyImport_ImportModule(sr.c_str());

	// pModule = PyImport_Import(pName);
	if (!pModule) {
	printf("can't find pytest.py");
	getchar();
	return -1;
	}
	pDict = PyModule_GetDict(pModule);
	if (!pDict) {
	return -1;
	}

	// æ‰¾å‡ºå‡½æ•°åä¸ºaddçš„å‡½æ•°
	pFunc = PyDict_GetItemString(pDict, "add");
	if (!pFunc || !PyCallable_Check(pFunc)) {
	printf("can't find function [add]");
	getchar();
	return -1;
	}

	// å‚æ•°è¿›æ ˆ
	pArgs = PyTuple_New(2);

	//  PyObject* Py_BuildValue(char *format, ...)
	//  æŠŠC++çš„å˜é‡è½¬æ¢æˆä¸€ä¸ªPythonå¯¹è±¡ã€‚å½“éœ€è¦ä»
	//  C++ä¼ é€’å˜é‡åˆ°Pythonæ—¶ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚æ­¤å‡½æ•°
	//  æœ‰ç‚¹ç±»ä¼¼Cçš„printfï¼Œä½†æ ¼å¼ä¸åŒã€‚å¸¸ç”¨çš„æ ¼å¼æœ‰
	//  s è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ
	//  i è¡¨ç¤ºæ•´å‹å˜é‡ï¼Œ
	//  f è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œ
	//  O è¡¨ç¤ºä¸€ä¸ªPythonå¯¹è±¡ã€‚

	PyTuple_SetItem(pArgs, 0, Py_BuildValue("l", 3));
	PyTuple_SetItem(pArgs, 1, Py_BuildValue("l", 4));

	// è°ƒç”¨Pythonå‡½æ•°
	PyObject_CallObject(pFunc, pArgs);

	//ä¸‹é¢è¿™æ®µæ˜¯æŸ¥æ‰¾å‡½æ•°foo å¹¶æ‰§è¡Œfoo
	pFunc = PyDict_GetItemString(pDict, "foo");
	if (!pFunc || !PyCallable_Check(pFunc)) {
	printf("can't find function [foo]");
	getchar();
	return -1;
	}

	pArgs = PyTuple_New(1);
	PyTuple_SetItem(pArgs, 0, Py_BuildValue("l", 2));  //

	PyObject_CallObject(pFunc, pArgs);

	Py_DECREF(pName);
	Py_DECREF(pArgs);
	Py_DECREF(pModule);

	// å…³é—­Python
	Py_Finalize();

	system("pause");
	return 0;
}
```

```python
def add(a,b):
    print ("in python function add")
    print ("a = " + str(a))
    print ("b = " + str(b))
    print ("ret = " + str(a+b))
    return
def foo(a):
    print ("in python function foo")
    print ("a = " + str(a))
    print ("ret = " + str(a * a))
    return 
```

### 2. [Markdownæ’å…¥å›¾ç‰‡ï¼šæœ¬åœ°å›¾ç‰‡ã€ç½‘ç»œå›¾ç‰‡å’ŒBase64çš„è¯¦ç»†ç¤ºä¾‹](https://developer.baidu.com/article/details/2746783)

ä¸€ã€æ’å…¥æœ¬åœ°å›¾ç‰‡

åœ¨ Markdown ä¸­æ’å…¥æœ¬åœ°å›¾ç‰‡çš„è¯­æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ–‡æœ¬ä¸­æ·»åŠ ä¸€ä¸ªä»¥ `!` å¼€å¤´çš„è¡Œï¼Œåé¢è·Ÿç€å›¾ç‰‡çš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼š

```
![Alt text](/path/to/image.jpg)
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`Alt text` æ˜¯å›¾ç‰‡çš„æ›¿ä»£æ–‡æœ¬ï¼Œå½“å›¾ç‰‡æ— æ³•åŠ è½½æ—¶ï¼Œå°†æ˜¾ç¤ºè¿™ä¸ªæ–‡æœ¬ã€‚`/path/to/image.jpg` æ˜¯å›¾ç‰‡çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚

äºŒã€æ’å…¥ç½‘ç»œå›¾ç‰‡

åœ¨ Markdown ä¸­æ’å…¥ç½‘ç»œå›¾ç‰‡ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†å›¾ç‰‡çš„ URL æ·»åŠ åˆ° `![Alt text](URL)` çš„è¯­æ³•ä¸­å³å¯ã€‚ä¾‹å¦‚ï¼š

```
![Alt text](https://example.com/image.jpg)
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`Alt text` æ˜¯å›¾ç‰‡çš„æ›¿ä»£æ–‡æœ¬ï¼Œ`https://example.com/image.jpg` æ˜¯å›¾ç‰‡çš„ URLã€‚

ä¸‰ã€æ’å…¥ Base64 ç¼–ç çš„å›¾ç‰‡

Base64 æ˜¯å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºå¯æ‰“å°å­—ç¬¦çš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚é€šè¿‡å°†å›¾ç‰‡è½¬æ¢ä¸º Base64 ç¼–ç ï¼Œå¯ä»¥å°†å›¾ç‰‡ç›´æ¥åµŒå…¥åˆ° Markdown æ–‡ä»¶ä¸­ï¼Œè€Œæ— éœ€ä½¿ç”¨å¤–éƒ¨æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š

```
![Alt text][image-id]
[image-id]: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAU... (Base64 encoded image data)

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`[image-id]` æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºå¼•ç”¨åé¢çš„ Base64 ç¼–ç çš„å›¾ç‰‡æ•°æ®ã€‚Base64 ç¼–ç çš„å›¾ç‰‡æ•°æ®è¢«æ·»åŠ åˆ° `[image-id]:` åé¢ï¼Œä»¥ `data:image/png;base64,` å¼€å¤´ï¼Œåé¢è·Ÿç€å®é™…çš„ Base64 ç¼–ç æ•°æ®ã€‚

è¯·æ³¨æ„ï¼Œç”±äº Base64 ç¼–ç çš„å›¾ç‰‡æ•°æ®è¾ƒé•¿ï¼Œç›´æ¥åœ¨ Markdown æ–‡ä»¶ä¸­å†™å…¥å¯èƒ½ä¼šå½±å“å¯è¯»æ€§ã€‚å› æ­¤ï¼Œå»ºè®®å°† Base64 ç¼–ç çš„å›¾ç‰‡æ•°æ®æ”¾åœ¨æ³¨é‡Šä¸­æˆ–è€…å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨ Markdown æ–‡ä»¶ä¸­å¼•ç”¨ã€‚

æ€»ç»“ï¼šåœ¨ Windows ä¸Šä½¿ç”¨ Markdown æ’å…¥å›¾ç‰‡å¯ä»¥é€šè¿‡æ’å…¥æœ¬åœ°å›¾ç‰‡ã€ç½‘ç»œå›¾ç‰‡å’Œ Base64 ç¼–ç çš„å›¾ç‰‡æ¥å®ç°ã€‚è¿™äº›æ–¹æ³•å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ³•å³å¯ã€‚å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„ä¾‹å­èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°åœ¨ Windows ä¸Šä½¿ç”¨ Markdown æ’å…¥å›¾ç‰‡ã€‚

## share [ğŸ”](#weekly-98)

### 1. [ç”± Flappy Bird æƒ³åˆ°çš„æŠ€æœ¯è§‚ã€å“²å­¦è§‚å’Œäººç”Ÿè§‚](http://www.wowotech.net/tech_discuss/10.html)

![](../images/2025/01/20140213040412.png)

1. è‰ºæœ¯çš„é­…åŠ›
	- è‰ºæœ¯ä½œå“ï¼ˆå¦‚Flappy Birdï¼‰ä¸€æ—¦å‘å¸ƒï¼Œä¾¿è„±ç¦»ä½œè€…æ§åˆ¶ï¼Œå¼•å‘å¤šæ ·è§£è¯»ï¼Œæ¨åŠ¨åˆ›æ–°å’Œæ–‡æ˜å‘å±•ã€‚
	- ç±»æ¯”å¤å…¸åè‘—ï¼ˆå¦‚ã€Šçº¢æ¥¼æ¢¦ã€‹ï¼‰ï¼Œä¸åŒè§†è§’çš„è§£è¯»ä¸°å¯Œäº†ä½œå“å†…æ¶µã€‚
2. ç®€çº¦çš„ç¾
	- Flappy Bird çš„æˆåŠŸæºäºæè‡´ç®€çº¦çš„è®¾è®¡ï¼Œä»¥æç®€å½¢å¼å®ç°æ ¸å¿ƒä½“éªŒã€‚
	- å°†å¤æ‚é—®é¢˜ç®€å•åŒ–æ˜¯æœ€é«˜å¢ƒç•Œï¼ˆå¦‚ä¹”å¸ƒæ–¯ã€Linuxã€Googleï¼‰ï¼Œè€Œå°†ç®€å•é—®é¢˜å¤æ‚åŒ–æ˜¯ä¸‹ç­–ã€‚
3. æ¿€åŠ±æœºåˆ¶
	- è¡Œä¸ºåŠ¨æœºå¤šæ ·ï¼šææƒ§ã€åˆ©ç›Šã€åæœ›ã€å…´è¶£æˆ–çº¯ç²¹æ„‰æ‚¦ã€‚
	- æ¸¸æˆä¸­è¿‡åˆ†è¿½æ±‚åˆ†æ•°åè€Œæ˜“å¤±è´¥ï¼Œä¸“æ³¨è¿‡ç¨‹ï¼ˆå¦‚â€œå¿ƒä¸­æ— åˆ†â€ï¼‰æ›´æ˜“æˆåŠŸï¼Œéšå–»äººç”Ÿéœ€æ”¾ä¸‹æ‰§å¿µã€‚
4. äººç”Ÿçš„æµ®æ²‰
	- æ¸¸æˆä¸­çš„å¤±è´¥å¤šå‘ç”Ÿäºå¹³æ·¡é˜¶æ®µï¼Œè€Œéæç«¯æŒ‘æˆ˜æ—¶ï¼Œå¯ç¤ºï¼š
		- ç”Ÿæ´»ä¸­é‡å¤§å›°éš¾éœ€â€œæŒºä¸€ä¸‹â€å³å¯åº¦è¿‡ï¼›
		- å¹³æ·¡æ—¶æ¾æ‡ˆæ˜“å¯¼è‡´å¤±è´¥ï¼ˆå¦‚â€œç”Ÿäºå¿§æ‚£ï¼Œæ­»äºå®‰ä¹â€ï¼‰ã€‚

æ ¸å¿ƒè§‚ç‚¹ï¼šFlappy Bird ä¸ä»…æ˜¯æ¸¸æˆï¼Œæ›´æ˜ å°„äº†è‰ºæœ¯ä¼ æ’­ã€ç®€çº¦è®¾è®¡ã€åŠ¨æœºå¿ƒç†å­¦å’Œäººç”Ÿå“²ç†ï¼Œæé†’äººä»¬ä¸“æ³¨è¿‡ç¨‹ã€ä¿æŒè°¦é€Šï¼Œåœ¨å¹³å‡¡ä¸­è­¦æƒ•æ¾æ‡ˆã€‚

[readme](../README.md) | [previous](202501W3.md) | [next](202501W5.md)
