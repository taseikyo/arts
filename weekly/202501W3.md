> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2025-01-12 - 2025-01-18

# Weekly #97

[readme](../README.md) | [previous](202501W2.md) | [next](202501W4.md)

![](../images/2025/01/andrey-zvyagintsev-7N2NUZ9Vr40-unsplash.jpg "Weekly #97")

\**Photo by [Andrey Zvyagintsev](https://unsplash.com/@zvandrei) on [Unsplash](https://unsplash.com/photos/woman-in-black-and-white-long-sleeve-shirt-standing-on-road-during-daytime-7N2NUZ9Vr40)*      

## Table of Contents

- [algorithm](#algorithm-)
	- å­—æ¯å¼‚ä½è¯åˆ†ç»„
	- æœ€é•¿è¿ç»­åºåˆ—
- [review](#review-)
	- live å›¾åŸç†ä»‹ç»
- [tip](#tip-)
- [share](#share-)

## algorithm [ğŸ”](#weekly-97)

### 1. [49. å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.cn/problems/group-anagrams/description/?envType=study-plan-v2&envId=top-100-liked)

#### é¢˜ç›®

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† å­—æ¯å¼‚ä½è¯ ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚

å­—æ¯å¼‚ä½è¯ æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„æ‰€æœ‰å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]
ç¤ºä¾‹ 2:

è¾“å…¥: strs = [""]
è¾“å‡º: [[""]]
ç¤ºä¾‹ 3:

è¾“å…¥: strs = ["a"]
è¾“å‡º: [["a"]]

æç¤ºï¼š

- 1 <= strs.length <= 104
- 0 <= strs[i].length <= 100
- strs[i] ä»…åŒ…å«å°å†™å­—æ¯

#### è§£æ³•

> [49.group-anagrams.go](../code/leetcode/49.group-anagrams.go)

```go
func groupAnagrams(strs []string) [][]string {
    if len(strs) == 1 {
        return [][]string{strs}
    }

    maps := make(map[string][]string, 0)
    for _, str := range strs {
        bytes := []byte(str)
        sort.Slice(bytes, func(i, j int) bool {
            return bytes[i] < bytes[j]
        })

        newStr := string(bytes)
        maps[newStr] = append(maps[newStr], str)
    }

    res := make([][]string, 0)
    for _, v := range maps {
        res = append(res, v)
    }

    return res
}
```

æ•°æ®ï¼š8ms 70.07%; 9.23MB 82.70%

### 2. [128. æœ€é•¿è¿ç»­åºåˆ—](https://leetcode.cn/problems/longest-consecutive-sequence/description/?envType=study-plan-v2&envId=top-100-liked)

#### é¢˜ç›®

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚

è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
è¾“å‡ºï¼š9
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [1,0,1,2]
è¾“å‡ºï¼š3
 

æç¤ºï¼š

- 0 <= nums.length <= 105
- -109 <= nums[i] <= 109

#### è§£ç­”

> è§£é¢˜æ€è·¯ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/description/comments/2436490/
>
> å‡è®¾é¢˜ç›®æ²¡æœ‰è¦O(n)çš„æ—¶é—´å¤æ‚åº¦çš„è¯ï¼Œè‚¯å®šå°±æ˜¯å…ˆå°†æ•°ç»„æ’åºååœ¨éå†æ•°ç»„è®¡ç®—æœ€é•¿çš„è¿ç»­åºåˆ—ã€‚
>
> é‚£ä¹ˆè¯¥å¦‚ä½•åªç”¨O(n)çš„æ—¶é—´å¤æ‚åº¦æ¥å®Œæˆè¿™é“é¢˜å‘¢?
>
> æ’åºçš„ç›®çš„æ˜¯ä¸ºäº†è®©è¿ç»­çš„æ•°å­—åœ¨ç‰©ç†å±‚é¢ç´§æŒ¨åœ¨ä¸€èµ·ï¼Œä¸æ’åºçš„è¯ï¼Œç°åœ¨è®©å®ƒä»¬é€»è¾‘ä¸ŠæŒ¨åœ¨ä¸€èµ·å°±è¡Œäº†ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å“ˆå¸Œè¡¨æ¥å®ç°æ•°å­—åœ¨é€»è¾‘æ–¹é¢æŒ¨åœ¨ä¸€èµ·ã€‚å“ˆå¸Œè¡¨çš„keyå°±æ˜¯æ•°å­—ï¼Œvalueåˆ™ä¸ºåŒ…å«keyçš„æœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚
é‚£ä¹ˆç°åœ¨çš„é—®é¢˜å°±å˜æˆçš„å¦‚ä½•ç”¨valueè¡¨ç¤ºåŒ…å«keyçš„æœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚
éå†æ•°ç»„ï¼Œå°†ç¬¬iä½å…ƒç´ numæ’å…¥å“ˆå¸Œè¡¨ï¼Œå°±å­˜åœ¨3ç§æƒ…å†µï¼š
>
> - ä»…numåœ¨å“ˆå¸Œè¡¨ä¸­ã€‚
> - num-1æˆ–è€…num+1ä¹Ÿåœ¨å“ˆå¸Œè¡¨ä¸­ã€‚
> - num-1å’Œnum+1éƒ½åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚
>
> å› ä¸ºå“ˆå¸Œè¡¨çš„valueå­˜çš„æ˜¯é•¿åº¦ï¼Œå½“æœ‰æ–°æ•°å­—æ’å…¥æ—¶ï¼Œä¸å…¶ç›¸é‚»çš„æ•°å­—é•¿åº¦ä¹Ÿéœ€è¦æ”¹å˜ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦æŠŠè¿™ä¸ªè¿ç»­åºåˆ—å…¨éƒ¨éƒ½ä¿®æ”¹ï¼Œåªéœ€è¦ä¿®æ”¹è¿™ä¸ªè¿ç»­åºåˆ—çš„è¾¹ç¼˜æ•°å­—ï¼Œå› ä¸ºè¿ç»­åºåˆ—å†…çš„æ•°å­—æ”¹å˜æ²¡æœ‰æ„ä¹‰ï¼Œæˆ‘ä»¬ä¸ä¼šæŠŠæ•°å­—æ’å…¥åˆ°è¿ç»­åºåˆ—å†…

> [128.longest-consecutive-sequence.go](../code/leetcode/128.longest-consecutive-sequence.go)

```go
func longestConsecutive(nums []int) int {
    dict := make(map[int]int)
    for _, num := range nums {
        if _, ok := dict[num]; !ok {
            prev := dict[num-1]
            next := dict[num+1]

            dict[num] += prev+next+1
            dict[num-prev] = dict[num]
            dict[num+next] = dict[num]
        }
    }

    res := 0
    for _, v := range dict {
        if v > res {
            res = v
        }
    }
    return res
}
```

æ•°æ®ï¼š63ms 10.11%; 13.98MB 10.99%

é€Ÿåº¦æœ€å¿«çš„è§£æ³•å¦‚ä¸‹ï¼Œå…ˆæ’åºç„¶åéå†è®¡æ•°ï¼š

```go
func longestConsecutive(nums []int) int {
	if len(nums) == 0 {
		return 0
	}
	sort.Ints(nums)
	res := 1
	cur := 1
	for j := 1; j < len(nums); j++ {
		switch nums[j] - nums[j-1] {
		case 1:
			cur++
			res = max(res, cur)
		case 0:
		default:
			cur = 1
		}
	}
	return res
}
```

## review [ğŸ”](#weekly-97)

### 1. [live å›¾åŸç†ä»‹ç»](https://github.com/LLLLLayer/Live-Photos)

å›¾ç‰‡æ‹¥æœ‰å±æ€§ï¼Œå¯¹äºå¤§å¤šæ•°å›¾åƒæ–‡ä»¶æ ¼å¼ï¼Œä½¿ç”¨ [CGImageSource](https://developer.apple.com/documentation/imageio/cgimagesource) ç±»å‹å¯ä»¥æœ‰æ•ˆåœ°è¯»å–æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨ [The Photo Investigator](https://apps.apple.com/us/app/photo-investigator-view-edit/id571574618) åº”ç”¨æŸ¥çœ‹ç…§ç‰‡ä¸­çš„æ‰€æœ‰ Metadataï¼š

![](../images/2025/01/ThePhotoInvestigator.png)

æ‹æ‘„ç…§ç‰‡æ—¶ï¼ŒApple ç›¸æœºä¼šè‡ªåŠ¨ä¸ºç…§ç‰‡æ·»åŠ ä¸åŒç§ç±»çš„ Metadataã€‚å¤§å¤šæ•°å…ƒæ•°æ®éƒ½å¾ˆå¥½ç†è§£ï¼Œå¦‚ä½ç½®å­˜å‚¨åœ¨ GPS Metadata ä¸­ã€ç›¸æœºä¿¡æ¯ä½äº EXIF Metadata ä¸­ã€‚

å…¶ä¸­ [kCGImagePropertyMakerAppleDictionary](https://developer.apple.com/documentation/imageio/kcgimagepropertymakerappledictionary) æ˜¯ Apple ç›¸æœºæ‹æ‘„çš„ç…§ç‰‡çš„é”®å€¼å¯¹å­—å…¸ã€‚â€œ17â€ æ˜¯ Maker Apple ä¸­çš„ LivePhotoVideoIndexï¼Œæ˜¯ Live Photo çš„ Identifier Keyï¼Œå®Œæ•´åˆ—è¡¨å¯ä»¥å‚è€ƒ [Apple Tags](https://exiftool.org/TagNames/Apple.html)ã€‚

Live Photo éœ€è¦æœ‰ç‰¹æ®Š Metadata çš„ JPEG å›¾åƒï¼š

```Markdown
[kCGImagePropertyMakerAppleDictionary : [17 : <Identifier>]]
```

> [!NOTE]  
> ä½œè€…è¿˜ä»‹ç»äº†å¦‚ä½• å°† Live Photo åˆ†è§£ä¸ºç…§ç‰‡å’Œè§†é¢‘ ä»¥åŠ ä½¿ç”¨ç…§ç‰‡å’Œè§†é¢‘åˆ›å»º Live Photo

## tip [ğŸ”](#weekly-97)

## share [ğŸ”](#weekly-97)

[readme](../README.md) | [previous](202501W2.md) | [next](202501W4.md)
