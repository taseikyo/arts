> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2025-04-08 - 2025-04-08

# Weekly #95

[readme](../README.md) | [previous](202412W4.md) | [next](202412W6.md)

![](../images/2025/01/jernej-graj-ieJTmGymyIo-unsplash.jpg "Weekly #95")

\**Photo by [Jernej Graj](https://unsplash.com/@jernejgraj) on [Unsplash](https://unsplash.com/photos/woman-in-black-bikini-top-standing-on-brown-rock-during-daytime-ieJTmGymyIo)*

## Table of Contents

- [algorithm](#algorithm-)
	- çˆ¬æ¥¼æ¢¯
- [review](#review-)
- [tip](#tip-)
	- js å®ç°å„ç§å¤åˆ¶åˆ°å‰ªè´´æ¿
	- javascript è½¬é¢œæ–‡å­—
	- PyQt5ç›‘å¬ç³»ç»Ÿç²˜è´´æ¿å¹¶æå–æ—¶é—´
	- psutil æ¨¡å—
- [share](#share-)

## algorithm [ğŸ”](#weekly-95)

### 1. [70. çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/description/?envType=study-plan-v2&envId=top-100-liked)

#### é¢˜ç›®

å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚

æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š2
è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
1. 1 é˜¶ + 1 é˜¶
2. 2 é˜¶
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
1. 1 é˜¶ + 1 é˜¶ + 1 é˜¶
2. 1 é˜¶ + 2 é˜¶
3. 2 é˜¶ + 1 é˜¶

- 1 <= n <= 45

#### è§£æ³•

æœ€ç›´è§‚çš„æ–¹æ³•å°±æ˜¯é€’å½’äº†ï¼Œç»“æœè¶…æ—¶äº†ï¼Œäºæ˜¯åŠ äº†ä¸ª map ä½œä¸ºç¼“å­˜ï¼Œç„¶åå°±è¿‡äº†ï¼š

> [70.climbing-stairs.go](../code/70.climbing-stairs.go)

```go
var cache = map[int]int{
    1: 1,
    2: 2,
}

func climbStairs(n int) int {
    if v, ok := cache[n]; ok {
        return v
    }
    cache[n] = climbStairs(n-1) + climbStairs(n-2)

    return cache[n]
}
```


## review [ğŸ”](#weekly-95)

## tip [ğŸ”](#weekly-95)

### 1. [js å®ç°å„ç§å¤åˆ¶åˆ°å‰ªè´´æ¿](https://www.cnblogs.com/huijieoo/articles/5569990.html)

ä¸€ã€å®ç°ç‚¹å‡»æŒ‰é’®ï¼Œå¤åˆ¶æ–‡æœ¬æ¡†ä¸­çš„çš„å†…å®¹

```js
<script type="text/javascript">
function copyUrl2()
{
var Url2=document.getElementById("biao1");
Url2.select(); // é€‰æ‹©å¯¹è±¡
document.execCommand("Copy"); // æ‰§è¡Œæµè§ˆå™¨å¤åˆ¶å‘½ä»¤
alert("å·²å¤åˆ¶å¥½ï¼Œå¯è´´ç²˜ã€‚");
}
</script>
<textarea cols="20" rows="10" id="biao1">ç”¨æˆ·å®šä¹‰çš„ä»£ç åŒºåŸŸ</textarea>
<input type="button" onClick="copyUrl2()" value="ç‚¹å‡»å¤åˆ¶ä»£ç " />
```

äºŒã€å¤åˆ¶ä¸“é¢˜åœ°å€å’Œ url åœ°å€ï¼Œä¼ ç»™ QQ/MSN ä¸Šçš„å¥½å‹

```js
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>Jså¤åˆ¶ä»£ç </title>
</head>
<body>
<p>
<input type="button" name="anniu1" onClick='copyToClipBoard()' value="å¤åˆ¶ä¸“é¢˜åœ°å€å’Œurlåœ°å€ï¼Œä¼ ç»™QQ/MSNä¸Šçš„å¥½å‹">
<script language="javascript">
function copyToClipBoard(){
var clipBoardContent="";
clipBoardContent+=document.title;
clipBoardContent+="";
clipBoardContent+=this.location.href;
window.clipboardData.setData("Text",clipBoardContent);
alert("å¤åˆ¶æˆåŠŸï¼Œè¯·ç²˜è´´åˆ°ä½ çš„QQ/MSNä¸Šæ¨èç»™ä½ çš„å¥½å‹");
}
</script>
```

ä¸‰ã€ç›´æ¥å¤åˆ¶ url

```js
<input type="button" name="anniu2" onClick='copyUrl()' value="å¤åˆ¶URLåœ°å€">
<script language="javascript">
function copyUrl()
{
var clipBoardContent=this.location.href;
window.clipboardData.setData("Text",clipBoardContent);
alert("å¤åˆ¶æˆåŠŸ!");
}
</script>
```

å››ã€ç‚¹å‡»æ–‡æœ¬æ¡†æ—¶ï¼Œå¤åˆ¶æ–‡æœ¬æ¡†é‡Œé¢çš„å†…å®¹

```js
<input onclick="oCopy(this)" value="ä½ å¥½.è¦copyçš„å†…å®¹!">
<script language="javascript">
function oCopy(obj){
obj.select();
js=obj.createTextRange();
js.execCommand("Copy")
alert("å¤åˆ¶æˆåŠŸ!");
}
</script>
```

äº”ã€å¤åˆ¶æ–‡æœ¬æ¡†æˆ–è€…éšè—åŸŸä¸­çš„å†…å®¹

```js
<script language="javascript">
function CopyUrl(target){
target.value=myimg.value;
target.select();
js=myimg.createTextRange();
js.execCommand("Copy");
alert("å¤åˆ¶æˆåŠŸ!");
}
function AddImg(target){
target.value="[IMG]"+myimg.value+"[/ img]";
target.select();
js=target.createTextRange();
js.execCommand("Copy");
alert("å¤åˆ¶æˆåŠŸ!");
}
</script>
```

å…­ã€å¤åˆ¶ span æ ‡è®°ä¸­çš„å†…å®¹

```js
<script type="text/javascript">
</script>
<br />
<br />
<script type="text/javascript">function copyText(obj)
{
var rng = document.body.createTextRange();
rng.moveToElementText(obj);
rng.scrollIntoView();
rng.select();
rng.execCommand("Copy");
rng.collapse(false);
alert("å¤åˆ¶æˆåŠŸ!");
}
</script>
```

ä¸ƒã€æµè§ˆå™¨å…¼å®¹  copyToClipboard("æ‹·è´å†…å®¹")

```js
function copyToClipboard(txt) {
  if (window.clipboardData) {
    window.clipboardData.clearData();
    clipboardData.setData("Text", txt);
    alert("å¤åˆ¶æˆåŠŸï¼");

  } else if (navigator.userAgent.indexOf("Opera") != -1) {
    window.location = txt;
  } else if (window.netscape) {
    try {
      netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
    } catch (e) {
      alert("è¢«æµè§ˆå™¨æ‹’ç»ï¼\nè¯·åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥'about:config'å¹¶å›è½¦\nç„¶åå°† 'signed.applets.codebase_principal_support'è®¾ç½®ä¸º'true'");
    }
    var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);
    if (!clip)
      return;
    var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);
    if (!trans)
      return;
    trans.addDataFlavor("text/unicode");
    var str = new Object();
    var len = new Object();
    var str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);
    var copytext = txt;
    str.data = copytext;
    trans.setTransferData("text/unicode", str, copytext.length * 2);
    var clipid = Components.interfaces.nsIClipboard;
    if (!clip)
      return false;
    clip.setData(trans, null, clipid.kGlobalClipboard);
    alert("å¤åˆ¶æˆåŠŸï¼");
  }
}
```

å…«ã€å…¼å®¹å„å¤§æµè§ˆå™¨çš„å¤åˆ¶ä»£ç ï¼ˆç»“åˆ ZeroClipboard.jsï¼‰

```html
<html>
<head>
<title>Zero Clipboard Test</title>
<script type="text/javascript" src="ZeroClipboard.js"></script>
<script language="JavaScript">
 var clip = null;
 function $(id) { return document.getElementById(id); }
 function init() {
     clip = new ZeroClipboard.Client();
     clip.setHandCursor(true);    
     clip.addEventListener('mouseOver', function (client) {
  // update the text on mouse over
  clip.setText( $('fe_text').value );
     });
      
     clip.addEventListener('complete', function (client, text) {
  //debugstr("Copied text to clipboard: " + text );
  alert("è¯¥åœ°å€å·²ç»å¤åˆ¶ï¼Œä½ å¯ä»¥ä½¿ç”¨Ctrl+V ç²˜è´´ã€‚");
     });
     clip.glue('clip_button', 'clip_container' );
 }
</script>
</head>
<body onLoad="init()">
<input id="fe_text" cols=50 rows=5 value=å¤åˆ¶å†…å®¹æ–‡æœ¬1 >
<span id="clip_container"><span id="clip_button"><b>å¤åˆ¶</b></span></span>
</body>
</html
```

### 2. [javascript è½¬é¢œæ–‡å­—](https://utf-8.jp/public/aaencode.html)

### 3. [PyQt5ç›‘å¬ç³»ç»Ÿç²˜è´´æ¿å¹¶æå–æ—¶é—´](https://blog.csdn.net/yanzi1225627/article/details/76736361)

æ ¸å¿ƒä»£ç æ®µï¼š

```python
def addClipbordListener(self):
    clipboard = QApplication.clipboard()
    clipboard.dataChanged.connect(self.widget.onClipboradChanged)

def onClipboradChanged(self):
    clipboard = QApplication.clipboard()
    text = clipboard.text()
    ...
```

æºç ï¼š[qt5-clipboard.7z](../code/qt5-clipboard.7z)

### 4. [psutil æ¨¡å—](https://www.cnblogs.com/liu-yao/p/5678157.html)

1 CPU ç›¸å…³

æŸ¥çœ‹ cpu ä¿¡æ¯

```python
import psutil

>>> psutil.cpu_times()
scputimes(user=11677.09, nice=57.93, system=148675.58, idle=2167147.79, iowait=260828.48, irq=7876.28, softirq=0.0, steal=3694.59, guest=0.0, guest_nice=0.0)
```

æ˜¾ç¤º cpu æ‰€æœ‰é€»è¾‘ä¿¡æ¯

```python
>>> psutil.cpu_times(percpu=True)
[scputimes(user=11684.17, nice=57.93, system=148683.01, idle=2168982.08, iowait=260833.18, irq=7882.35, softirq=0.0, steal=3697.3, guest=0.0, guest_nice=0.0)]
```

æŸ¥çœ‹ç”¨æˆ·çš„ cpu æ—¶é—´æ¯”

```python
>>> psutil.cpu_times().user
11684.4
```

æŸ¥çœ‹ cpu é€»è¾‘ä¸ªæ•°

```python
>>> psutil.cpu_count()
1
```

æŸ¥çœ‹ cpu ç‰©ç†ä¸ªæ•°

```python
>>> psutil.cpu_count(logical=False)
1
```

3.2 æŸ¥çœ‹ç³»ç»Ÿå†…å­˜

```python
>>> import psutil
>>> mem = psutil.virtual_memory()
>>> mem
#ç³»ç»Ÿå†…å­˜çš„æ‰€æœ‰ä¿¡æ¯
svmem(total=1040662528, available=175054848, percent=83.2, used=965718016, free=74944512, active=566755328, inactive=59457536, buffers=9342976, cached=90767360)
```

ç³»ç»Ÿæ€»è®¡å†…å­˜

```python
>>> mem.total
1040662528
```

ç³»ç»Ÿå·²ç»ä½¿ç”¨å†…å­˜

```python
>>> mem.used
965718016
```

ç³»ç»Ÿç©ºé—²å†…å­˜

```python
>>> mem.free
112779264
```

è·å– swap å†…å­˜ä¿¡æ¯

```python
>>> psutil.swap_memory()
sswap(total=0, used=0, free=0, percent=0, sin=0, sout=0)
```

è¯»å–ç£ç›˜å‚æ•°

ç£ç›˜åˆ©ç”¨ç‡ä½¿ç”¨ psutil.disk_usage æ–¹æ³•è·å–ï¼Œ

ç£ç›˜ IO ä¿¡æ¯åŒ…æ‹¬ read_count(è¯» IO æ•°)ï¼Œwrite_count(å†™ IO æ•°)  
read_bytes(IO å†™å­—èŠ‚æ•°)ï¼Œread_time(ç£ç›˜è¯»æ—¶é—´)ï¼Œwrite_time(ç£ç›˜å†™æ—¶é—´), è¿™äº› IO ä¿¡æ¯ç”¨

```python
psutil.disk_io_counters()
```

è·å–ç£ç›˜çš„å®Œæ•´ä¿¡æ¯

```python
psutil.disk_partitions()
```

è·å–åˆ†åŒºè¡¨çš„å‚æ•°

```python
psutil.disk_usage('/')   #è·å–/åˆ†åŒºçš„çŠ¶æ€
```

è·å–ç¡¬ç›˜ IO æ€»ä¸ªæ•°

```python
psutil.disk_io_counters()
```

è·å–å•ä¸ªåˆ†åŒº IO ä¸ªæ•°

```python
psutil.disk_io_counters(perdisk=True)    #perdisk=Trueå‚æ•°è·å–å•ä¸ªåˆ†åŒºIOä¸ªæ•°
```

è¯»å–ç½‘ç»œä¿¡æ¯

ç½‘ç»œä¿¡æ¯ä¸ç£ç›˜ IO ä¿¡æ¯ç±»ä¼¼, æ¶‰åŠåˆ°å‡ ä¸ªå…³é”®ç‚¹ï¼ŒåŒ…æ‹¬ byes_sent(å‘é€å­—èŠ‚æ•°),byte_recv=xxx(æ¥å—å­—èŠ‚æ•°),  
pack-ets_sent=xxx(å‘é€å­—èŠ‚æ•°),pack-ets_recv=xxx(æ¥æ”¶æ•°æ®åŒ…æ•°), è¿™äº›ç½‘ç»œä¿¡æ¯ç”¨

è·å–ç½‘ç»œæ€» IO ä¿¡æ¯

```python
psutil.net_io_counters()  
```

è¾“å‡ºç½‘ç»œæ¯ä¸ªæ¥å£ä¿¡æ¯

```python
psutil.net_io_counters(pernic=True)     #pernic=True
```

è·å–å½“å‰ç³»ç»Ÿç”¨æˆ·ç™»å½•ä¿¡æ¯

```python
psutil.users()
```

è·å–å¼€æœºæ—¶é—´

```python
psutil.boot_time() #ä»¥ linux æ—¶é—´æ ¼å¼è¿”å›

datetime.datetime.fromtimestamp(psutil.boot_time ()).strftime("%Y-%m-%d %H: %M: %S") #è½¬æ¢æˆè‡ªç„¶æ—¶é—´æ ¼å¼
```


ç³»ç»Ÿè¿›ç¨‹ç®¡ç†  
è·å–å½“å‰ç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯, è·å–å½“å‰ç¨‹åºçš„è¿è¡ŒçŠ¶æ€, åŒ…æ‹¬è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´, æŸ¥çœ‹è®¾ç½® CPU äº²å’Œåº¦, å†…å­˜ä½¿ç”¨ç‡, IO ä¿¡æ¯  
socket è¿æ¥, çº¿ç¨‹æ•°ç­‰  
è·å–è¿›ç¨‹ä¿¡æ¯

æŸ¥çœ‹ç³»ç»Ÿå…¨éƒ¨è¿›ç¨‹

```python
psutil.pids()
```

æŸ¥çœ‹å•ä¸ªè¿›ç¨‹

```python
p = psutil.Process(2423) 
p.name()   #è¿›ç¨‹å
p.exe()    #è¿›ç¨‹çš„binè·¯å¾„
p.cwd()    #è¿›ç¨‹çš„å·¥ä½œç›®å½•ç»å¯¹è·¯å¾„
p.status()   #è¿›ç¨‹çŠ¶æ€
p.create_time()  #è¿›ç¨‹åˆ›å»ºæ—¶é—´
p.uids()    #è¿›ç¨‹uidä¿¡æ¯
p.gids()    #è¿›ç¨‹çš„gidä¿¡æ¯
p.cpu_times()   #è¿›ç¨‹çš„cpuæ—¶é—´ä¿¡æ¯,åŒ…æ‹¬user,systemä¸¤ä¸ªcpuä¿¡æ¯
p.cpu_affinity()  #getè¿›ç¨‹cpuäº²å’Œåº¦,å¦‚æœè¦è®¾ç½®cpuäº²å’Œåº¦,å°†cpuå·ä½œä¸ºå‚è€ƒå°±å¥½
p.memory_percent()  #è¿›ç¨‹å†…å­˜åˆ©ç”¨ç‡
p.memory_info()    #è¿›ç¨‹å†…å­˜rss,vmsä¿¡æ¯
p.io_counters()    #è¿›ç¨‹çš„IOä¿¡æ¯,åŒ…æ‹¬è¯»å†™IOæ•°å­—åŠå‚æ•°
p.connectios()   #è¿”å›è¿›ç¨‹åˆ—è¡¨
p.num_threads()  #è¿›ç¨‹å¼€å¯çš„çº¿ç¨‹æ•°
å¬è¿‡psutilçš„Popenæ–¹æ³•å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è·Ÿè¸ªç¨‹åºçš„ç›¸å…³ä¿¡æ¯
from subprocess import PIPE
p = psutil.Popen(["/usr/bin/python", "-c", "print('hello')"],stdout=PIPE)
p.name()
p.username()
```

## share [ğŸ”](#weekly-95)

[readme](../README.md) | [previous](202412W4.md) | [next](202412W6.md)
