> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2024-09-29 - 2025-10-05

# Weekly #82

[readme](../README.md) | [previous](202409W4.md) | [next](202409W6.md)

![](../images/2024/10/annie-spratt-p3zfHx0VD9M-unsplash.jpg "Weekly #82")

\**Photo by [Annie Spratt](https://unsplash.com/@anniespratt) on [Unsplash](https://unsplash.com/photos/a-group-of-people-watching-a-horse-race-p3zfHx0VD9M)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
	- è§£é‡Š shell å‘½ä»¤
	- åœ¨ GitHub Action ä¸­è·å– tag çš„ä¿¡æ¯
	- ä½¿ç”¨Youtube-dl+aria2+ffmpegå®ç°è‡ªåŠ¨ä¸‹è½½YouTubeçš„å‰§é›†
- [share](#share-)

## algorithm [ğŸ”](#weekly-82)

## review [ğŸ”](#weekly-82)

## tip [ğŸ”](#weekly-82)

### 1. [è§£é‡Š shell å‘½ä»¤](https://explainshell.com/)

- https://github.com/idank/explainshell

è¿™æ˜¯ä¸ªå¯ä»¥è§£é‡Š shell å‘½ä»¤çš„ç½‘ç«™ï¼Œä¸Šé¢ä¹Ÿè´´äº†å®ƒçš„ GitHub é“¾æ¥ï¼Œè¿˜æŒºåªç®¡çš„ï¼Œæ¯”å¦‚ï¼š

![](../images/2024/10/explainshell.jpg)

### 2. [åœ¨ GitHub Action ä¸­è·å– tag çš„ä¿¡æ¯](https://github.com/orgs/community/discussions/27155)

Qï¼š

> I want to capture the github tag message in Github Actions.
>
> If user pushes tag with some message e.g.
>
> git tag -a 1.0.0 -m "Test Message"
>
> than, I would like to capture that message(â€œTest Messageâ€) inside the github actions.

Aï¼š

```Bash
git fetch --depth=1 origin +refs/tags/*:refs/tags/*
git tag -l --format='%(contents:subject)' 1.0.0
```

### 3. [ä½¿ç”¨Youtube-dl+aria2+ffmpegå®ç°è‡ªåŠ¨ä¸‹è½½YouTubeçš„å‰§é›†](https://www.dwhd.org/20181208_022522_6131.html)

é¦–å…ˆä¸‹è½½ Youtube-dlã€aria2ã€ffmpeg çš„ Windows ç‰ˆæœ¬

- Youtube-dl : https://rg3.github.io/youtube-dl/download.html
- Aria2 : https://github.com/aria2/aria2/releases
- Ffmpeg : https://www.ffmpeg.org/download.html#build-windows

å…¶æ¬¡ã€å®‰è£…&é…ç½®ç¯å¢ƒå˜é‡

éªŒè¯ä¸‰ä¸ªè½¯ä»¶æ˜¯å¦æˆåŠŸå®‰è£…ï¼š

![](../images/2024/10/2018-12-08_02-19-41.png)

ä¸‹è½½æµ‹è¯•ï¼š

```Bash
â€“external-downloader aria2c #è°ƒç”¨å¤–éƒ¨ä¸‹è½½å·¥å…·aria2c
â€“external-downloader-args #å¤–éƒ¨ä¸‹è½½å·¥å…·æŒ‡å®šå‚æ•°
-x 16 #è¡¨ç¤ºè¿›ç¨‹æ•°ï¼Œaria2æœ€é«˜åªèƒ½16è¿›ç¨‹
-k 1M #æŒ‡å®šå—çš„å¤§å°
```

å°†æ‰€éœ€ä¸‹è½½çš„è§†é¢‘ç½‘å€ä¸€è¡Œä¸€ä¸ªé»è´´åˆ° test.txt æ–‡ä»¶ä¸­ï¼Œä¿å­˜å…³é—­ã€‚

ä½¿ç”¨ä¸‹é¢ä»£ç å°±å¯ä»¥å®ç°åˆ—è¡¨æ‰¹é‡ä¸‹è½½äº†ï¼š

```Bash
youtube-dl -ci --batch-file=test.txt --external-downloader aria2c --external-downloader-args "-x 16 -k 1M"
```

æŒ‡å®šä¸‹è½½çš„è·¯å¾„

å¦‚æœä½ å·²ç»è¯•è¿‡å‰é¢çš„å‘½ä»¤äº†ï¼Œé‚£å°±ä¼šå‘ç°ï¼šæ‰€ä¸‹è½½çš„è§†é¢‘å¯¹åº”çš„æ–‡ä»¶éƒ½è¢«æ”¾åœ¨æ‰§è¡Œè¯¥ä¸‹è½½å‘½ä»¤çš„è·¯å¾„ä¸‹ï¼Œè¦ä¿®æ”¹ä¸‹è½½è·¯å¾„å¾ˆç®€å•ï¼šä½¿ç”¨å‚æ•° `-o` ã€‚

```Bash
youtube-dl -o "ç»å¯¹è·¯å¾„\%(title)s.%(ext)s"
```

å…¶ä¸­ï¼Œå‰åŠéƒ¨åˆ†çš„ç»å¯¹è·¯å¾„æ˜¯ä½ æŒ‡å®šçš„ï¼ŒååŠéƒ¨åˆ†æœ€å¥½æ˜¯å›ºå®šçš„ï¼Œä½¿ç”¨åŸæ¥çš„æ ‡é¢˜ä½œä¸ºæ–‡ä»¶åä»¥åŠä½¿ç”¨åŸæ‰©å±•åã€‚
 
æ¯”å¦‚æŠŠä¹‹å‰çš„ 4K 30 å¸§çš„ mp4 è§†é¢‘ä¸‹è½½åˆ° `H:\youtube_videos` å†…ï¼Œé‚£ä¹ˆå‘½ä»¤å°±æ˜¯è¿™æ ·ï¼š`youtube-dl -o "H:\youtube_videos\%(title)s.%(ext)s" -f 266+140 https://www.youtube.com/watch?v=1La4QzGeaaQ`
 
137æ˜¯1080p 30fpsã€299æ˜¯1080p 60fps

å¹¶ä¸”è¿™ä¸¤ä¸ªéƒ½æ˜¯åªæœ‰è§†é¢‘ç”»é¢çš„ mp4 æ–‡ä»¶ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸å¸¦éŸ³é¢‘çš„è§†é¢‘ã€‚

- 266æ˜¯2160p 30fpsä¸å¸¦éŸ³é¢‘çš„mp4è§†é¢‘
- 315æ˜¯2160p 60fpsä¸å¸¦éŸ³é¢‘çš„webmè§†é¢‘
- 138æ˜¯4320p 30fpsä¸å¸¦éŸ³é¢‘çš„mp4è§†é¢‘
- 140æ˜¯128k 44100Hzçš„m4aéŸ³é¢‘

```Bash
PS D:\Download-Test> youtube-dl -F https://www.youtube.com/watch?v=WcCbUbS3W7A
[youtube] WcCbUbS3W7A: Downloading webpage
[youtube] WcCbUbS3W7A: Downloading video info webpage
[info] Available formats for WcCbUbS3W7A:
format code  extension  resolution note
249          webm       audio only DASH audio   68k , opus @ 50k, 14.97MiB
250          webm       audio only DASH audio   89k , opus @ 70k, 18.73MiB
140          m4a        audio only DASH audio  130k , m4a_dash container, mp4a.40.2@128k, 41.22MiB
171          webm       audio only DASH audio  152k , vorbis@128k, 27.43MiB
251          webm       audio only DASH audio  157k , opus @160k, 33.82MiB
278          webm       256x142    144p  110k , webm container, vp9, 25fps, video only, 24.50MiB
160          mp4        256x142    144p  145k , avc1.4d400c, 25fps, video only, 13.04MiB
242          webm       426x238    240p  227k , vp9, 25fps, video only, 31.68MiB
133          mp4        426x238    240p  341k , avc1.4d4015, 25fps, video only, 31.14MiB
243          webm       640x358    360p  427k , vp9, 25fps, video only, 57.05MiB
134          mp4        640x358    360p  668k , avc1.4d401e, 25fps, video only, 62.66MiB
244          webm       854x476    480p  787k , vp9, 25fps, video only, 96.93MiB
135          mp4        854x476    480p 1164k , avc1.4d401e, 25fps, video only, 100.36MiB
247          webm       1280x714   720p 1531k , vp9, 25fps, video only, 195.56MiB
136          mp4        1280x714   720p 2255k , avc1.4d401f, 25fps, video only, 157.24MiB
248          webm       1920x1072  1080p 2680k , vp9, 25fps, video only, 344.00MiB
137          mp4        1920x1072  1080p 3471k , avc1.640028, 25fps, video only, 249.12MiB
17           3gp        176x144    small , mp4v.20.3, mp4a.40.2@ 24k, 23.02MiB
36           3gp        320x178    small , mp4v.20.3, mp4a.40.2, 66.59MiB
18           mp4        640x356    medium , avc1.42001E, mp4a.40.2@ 96k, 133.64MiB
43           webm       640x360    medium , vp8.0, vorbis@128k, 152.63MiB
22           mp4        1280x714   hd720 , avc1.64001F, mp4a.40.2@192k (best)

PS D:\Download-Test> youtube-dl --external-downloader aria2c --external-downloader-args "-x 16" -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio' 'https://www.youtube.com/watch?v=WcCbUbS3W7A'
[youtube] WcCbUbS3W7A: Downloading webpage
[youtube] WcCbUbS3W7A: Downloading video info webpage
[download] Destination: å±æœºå››ä¼ 10 _ åè¯­è°æˆ˜ä½³ä½œâ€œæ½œä¼â€2.0ç‰ˆ-WcCbUbS3W7A.f137.mp4
PS D:\Download-Test>
```

> `-f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio'` è¿™ä¸ªé€‰é¡¹ä¼¼ä¹æ˜¯åœ¨æŒ‡å®šæœ€é«˜ç”»è´¨çš„è§†é¢‘å’Œæœ€é«˜éŸ³è´¨çš„éŸ³é¢‘
>
> ä½†æ˜¯ä½œè€…æ²¡è§£é‡Šï¼Œç›²çŒœæ˜¯è¿™æ ·

## share [ğŸ”](#weekly-82)

[readme](../README.md) | [previous](202409W4.md) | [next](202409W6.md)
