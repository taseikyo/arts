> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2021-10-03 - 2021-10-09

# Weekly #49

[readme](../README.md) | [previous](202110W1.md) | [next](202110W3.md)

æœ¬æ–‡æ€»å­—æ•° 968  ä¸ªï¼Œé˜…è¯»æ—¶é•¿çº¦ï¼š1 åˆ† 53 ç§’ï¼Œç»Ÿè®¡æ•°æ®æ¥è‡ªï¼šç®—ç­¹å­—æ•°ç»Ÿè®¡ã€‚

![](../images/2021/10/jocelyn-morales-SvIYuIdUN8s-unsplash.jpg)

\**Photo by [Jocelyn Morales](https://unsplash.com/@molnj) on [Unsplash](https://unsplash.com/photos/SvIYuIdUN8s)*

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
    - Linux ä¸‹æœ€å¥½ç”¨çš„è§£å‹ç¼©è½¯ä»¶ unar
    - Python ä½¿ç”¨ grequests å¹¶å‘å‘é€è¯·æ±‚
- [share](#share-)
    - æŠ“ä½æœºä¼šï¼ŒåŠªåŠ›æˆé•¿

## algorithm [ğŸ”](#weekly-49)

## review [ğŸ”](#weekly-49)

## tip [ğŸ”](#weekly-49)

### 1. [Linux ä¸‹æœ€å¥½ç”¨çš„è§£å‹ç¼©è½¯ä»¶ unar](http://www.luoshuizhibin.cn/663.html)

1ã€å®‰è£…

```Bash
$ sudo apt install unar
```

2ã€å¸¸ç”¨æ“ä½œ

- æŸ¥çœ‹å‹ç¼©åŒ…å†…æœ‰å“ªäº›æ–‡ä»¶ï¼š`lsar`

lsar.png

- è§£å‹ï¼š`unar`

unar.png

```Bash
$ unar x.tar.gz
$ unar x.rar
$ unar x.zip
$ unar x.ISO
// ...
```

3ã€å¸¸ç”¨å‚æ•°

- æŒ‡å®šè§£å‹ç¼©åæ–‡ä»¶çš„ä¿å­˜ä½ç½®ï¼š`-o`

unar-o.png

å¯¹åŠ å¯†å‹ç¼©åŒ…æŒ‡å®šè§£å‹ç¼©å¯†ç ï¼š`-p`

```Bash
$ unar -p 123 robin.tar.xz
```

- å¯¹æŒ‡å®šè§£å‹ç¼©æ—¶ä½¿ç”¨çš„ç¼–ç ï¼š`-e`

```Bash
$ unar -e GBK robin.tar.xz
```

4ã€è§£å†³ linux ç³»ç»Ÿä¸‹è§£å‹ç¼©ä¸­æ–‡ä»¶æ—¶å‡ºç°ä¹±ç çš„æ–¹æ³•

- unar å‘½ä»¤æ­£å¸¸æƒ…å†µä¸‹å¯ä»¥è‡ªé€‚åº”ç¼–ç è§£å‹ç¼©æ–‡ä»¶ï¼Œè‹¥å‡ºç°ä¸­æ–‡ä¹±ç å¯é€šè¿‡æŒ‡å®šè§£å‹ç¼©ç¼–ç æ–¹æ³•è§£å†³
- ä½¿ç”¨ lsar å‘½ä»¤æŸ¥çœ‹å‹ç¼©åŒ…å†…æ–‡ä»¶ï¼Œå¦‚æœå‡ºç°ä¹±ç æƒ…å†µï¼Œåˆ™æŒ‡å®šç¼–ç å†æ¬¡æŸ¥çœ‹
- ä½¿ç”¨ lsar -e GB18030 ï¼Œè‹¥èƒ½æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡åç§°ï¼Œåˆ™æŒ‡å®šä½¿ç”¨æ­¤ç¼–ç è§£å‹ç¼©æ–‡ä»¶å³å¯

### 2. [Python ä½¿ç”¨ grequests å¹¶å‘å‘é€è¯·æ±‚](https://www.cnblogs.com/superhin/p/11583560.html)

ä»Šå¤©çœ‹ [ä»£ç ](https://github.com/lrhtony/pixiv-rank) å­¦åˆ°è¿™ä¸ªåº“ï¼Œäºæ˜¯æœäº†ä¸‹ï¼Œæœç„¶æ˜¯å¥½ä¸œè¥¿

`requests` å‘é€è¯·æ±‚æ˜¯ä¸²è¡Œçš„ï¼Œè€Œ `grequests` æ˜¯ K ç¥åŸºäº gevent+requests ç¼–å†™çš„ä¸€ä¸ªå¹¶å‘å‘é€è¯·æ±‚çš„åº“

- https://github.com/spyoungtech/grequests

1ã€ç®€å•ä½¿ç”¨

```Python
import grequests

req_list = [   # è¯·æ±‚åˆ—è¡¨
    grequests.get('http://httpbin.org/get?a=1&b=2'),
    grequests.post('http://httpbin.org/post', data={'a':1,'b':2}),
    grequests.put('http://httpbin.org/post', json={'a': 1, 'b': 2}),
]

res_list = grequests.map(req_list)    # å¹¶è¡Œå‘é€ï¼Œç­‰æœ€åä¸€ä¸ªè¿è¡Œå®Œåè¿”å›
print(res_list[0].text)  # æ‰“å°ç¬¬ä¸€ä¸ªè¯·æ±‚çš„å“åº”æ–‡æœ¬
```

grequests æ”¯æŒ getã€postã€putã€delete ç­‰ requests æ”¯æŒçš„ HTTP è¯·æ±‚æ–¹æ³•ï¼Œä½¿ç”¨å‚æ•°å’Œ requests ä¸€è‡´ï¼Œå‘é€è¯·æ±‚éå¸¸ç®€å•ã€‚

é€šè¿‡éå† res_list å¯ä»¥å¾—åˆ°æ‰€æœ‰è¯·æ±‚çš„è¿”å›ç»“æœã€‚

### 2ã€å¼‚å¸¸å¤„ç†

```Python
import grequests

def err_handler(request, exception):
    print("è¯·æ±‚å‡ºé”™")

req_list = [
    grequests.get('http://httpbin.org/delay/1', timeout=0.001),   # è¶…æ—¶å¼‚å¸¸
    grequests.get('http://fakedomain/'),   # è¯¥åŸŸåä¸å­˜åœ¨
    grequests.get('http://httpbin.org/status/500')    #  æ­£å¸¸è¿”å›500çš„è¯·æ±‚
]

res_list = grequests.map(reqs, exception_handler=err_handler)
print(res_list)
```

```Bash
è¯·æ±‚å‡ºé”™
è¯·æ±‚å‡ºé”™
[None, None, <Response [500]>]
```

## share [ğŸ”](#weekly-49)

### 1. æŠ“ä½æœºä¼šï¼ŒåŠªåŠ›æˆé•¿

è¸å‡ºèˆ’é€‚åœˆï¼ŒæŠŠæ¡ä»»ä½•æˆé•¿çš„æœºä¼š

å­¦ä¼šæ²Ÿé€šï¼Œä»å‰è¾ˆé‚£é‡Œå­¦ä¹ ç»éªŒå’Œå‘ï¼›

å­¦ä¼šæ²‰æ·€ï¼Œå°†å­¦åˆ°çš„ä¸œè¥¿åŠæ—¶æ•´ç†ï¼Œäººçš„è®°å¿†åŠ›æ˜¯æœ‰é™çš„ï¼›

å­¦ä¼šåˆ†äº«ï¼Œå°†å­¦åˆ°çš„çŸ¥è¯†ç»™åˆ«äººåˆ†äº«ï¼Œåœ¨ç»™åˆ«äººè§£ç­”çš„åŒæ—¶å¯èƒ½ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç†è§£ï¼›

[readme](../README.md) | [previous](202110W1.md) | [next](202110W3.md)
