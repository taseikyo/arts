> @Author  : Lewis Tian (taseikyo@gmail.com)
>
> @Link    : github.com/taseikyo
>
> @Range   : 2020-12-20 - 2020-12-26

# Weekly #8

[readme](../README.md) | [previous](202012W3.md) | [next](202012W5.md)

## Table of Contents

- [algorithm](#algorithm-)
- [review](#review-)
- [tip](#tip-)
	- AI 写作智能纠错
	- 将 os.popen 的默认编码由 ascii 修改为 utf-8
- [share](#share-)

## algorithm [⬆](#weekly-8)

## review [⬆](#weekly-8)

## tip [⬆](#weekly-8)

### 1. [AI 写作智能纠错](https://xiezuocat.com)

偶然发现的一个名为*写作猫*的网站，自称是新一代的 AI 写作伴侣，帮助推敲用户、斟酌文法、改良文风还能实时同步翻译。

看了下给出的实例，感觉还挺靠谱，错别字、标点也会指出来。麻烦的是需要登录，我很烦这一点，我大概不会用。

![写作猫](../images/w8-tip-1.png)

\**范文《赵州桥》的校队建议*

### 2. [将 os.popen 的默认编码由 ascii 修改为 utf-8（知乎）](https://www.zhihu.com/question/279037180)

今天遇到这么个问题，需要获取执行命令的输出，结果一直报错 "UnicodeDecodeError: 'gbk' codec can't decode byte 0x8b..."，部分代码如下：

```Python
r = os.popen(f"git log -p {file}")
for line in r:
	if line.find("Date") >= 0:
		print(line)
```

然后搜到知乎的这个问题，[骷髅垮](https://www.zhihu.com/people/kang-ze-nan) 的回答完美解决问题，包装成一个函数（其实无所谓）返回输出的结果，我这边调用 exec 函数拿到返回值，以 '\n' 切割就可以拿到每一行了。

```Python
def exec(cmd: str):
	pip = os.popen(cmd)
	return pip.buffer.read().decode(encoding='utf8')
```

## share [⬆](#weekly-8)

[readme](../README.md) | [previous](202012W3.md) | [next](202012W5.md)
